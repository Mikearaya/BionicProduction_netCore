(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"tg+8":function(e,t,i){"use strict";i.d(t,"a",function(){return n}),i.d(t,"b",function(){return s});var r=i("CcnG"),n=(i("gIcY"),i("w4XH"),r.La({encapsulation:2,styles:[],data:{}}));function s(e){return r.db(2,[],null,null)}},w4XH:function(e,t,i){"use strict";var r=i("PXAV"),n=(i("HJ9Y"),i("69iR"),i("mrSG")),s=i("SiXH"),o=i("mb4y"),a=i("3yrQ"),u=i("msJd"),l=i("VU+H"),c=i("F8u4"),p=i("r2My"),h=i("zpHk"),d=i("Uwml"),f=i("BxwO"),g=i("U1I3"),m=i("zl2D"),y=(i("SVlL"),new RegExp("\\n|\\r|\\s\\s+","g")),v=new RegExp(/'|"/g),b=new RegExp("if ?\\("),O=new RegExp("else if ?\\("),j=new RegExp("else"),C=new RegExp("for ?\\("),w=new RegExp("(/if|/for)"),S=new RegExp("\\((.*)\\)",""),T=new RegExp("^[0-9]+$","g"),A=new RegExp("[\\w\"'.\\s+]+","g"),x=new RegExp('"(.*?)"',"g"),D=new RegExp("\\${([^}]*)}","g");function k(e,t,i,r){return t&&!T.test(e)&&-1===r.indexOf(e.split(".")[0])?i+"."+e:e}var R=/^[\n\r.]+\<tr|^\<tr/,E=/^[\n\r.]+\<svg|^\<path|^\<g/;function q(e,t){var i=L.compile(e,t);return function(e,t,r){var n=i(e,t,r);return"string"==typeof n?E.test(n)?Object(c.f)("svg",{innerHTML:n}).childNodes:Object(c.f)(R.test(n)?"table":"div",{innerHTML:n}).childNodes:n}}var I,P,L={compile:(new(function(){function e(){}return e.prototype.compile=function(e,t){return void 0===t&&(t={}),function(e,t){var i=function(t,i,r){var n=0,s=[];return e.replace(y,"").replace(x,"'$1'").replace(D,function(e,t,i,o){var a=t.match(S);if(a){var u=a[1];if(O.test(t))t='";} '+t.replace(a[1],u.replace(A,function(e){return k(e=e.trim(),!v.test(e)&&-1===s.indexOf(e),"data",s)}))+'{ \n str = str + "';else if(b.test(t))t='"; '+t.replace(a[1],u.replace(A,function(e){return k(e=e.trim(),!v.test(e)&&-1===s.indexOf(e),"data",s)}))+'{ \n str = str + "';else if(C.test(t)){var l=a[1].split(" of ");t='"; '+t.replace(a[1],function(e){return s.push(l[0]),s.push(l[0]+"Index"),"var i"+(n+=1)+"=0; i"+n+" < "+k(l[1],!0,"data",s)+".length; i"+n+"++"})+"{ \n "+l[0]+"= "+k(l[1],!0,"data",s)+"[i"+n+"]; \n var "+l[0]+"Index=i"+n+'; \n str = str + "'}else{var c=t.split("("),p=r&&r.hasOwnProperty(c[0])?"this.":"global";t='" + '+("global"===(p=/\./.test(c[0])?"":p)?"":p)+t.replace(u,k(a[1].replace(",","data."),"global"!==p,"data",s))+'+"'}}else t=j.test(t)?'"; '+t.replace(j,'} else { \n str = str + "'):t.match(w)?t.replace(w,'"; \n } \n str = str + "'):'"+'+k(t,-1===s.indexOf(t),"data",s)+'+"';return t})}(0,0,t);return new Function("data",'var str="'+i+'"; return str;').bind(t)}(e,t)},e}())).compile},W=/^(.*?):[ \t]*([^\r\n]*)$/gm,M="GET",N=function(){function e(e,t,i,r){this.mode=!0,this.emitError=!0,this.options={},"string"==typeof e?(this.url=e,this.type=t?t.toUpperCase():M,this.mode=!!Object(h.h)(i)||i):"object"==typeof e&&(this.options=e,Object(h.j)(this,this.options)),this.type=this.type?this.type.toUpperCase():M,this.contentType=void 0!==this.contentType?this.contentType:r}return e.prototype.send=function(e){var t=this;this.data=Object(h.h)(e)?this.data:e;var i={cancel:!1};return new Promise(function(e,r){t.httpRequest=new XMLHttpRequest,t.httpRequest.onreadystatechange=function(){t.stateChange(e,r)},Object(h.h)(t.onLoad)||(t.httpRequest.onload=t.onLoad),Object(h.h)(t.onProgress)||(t.httpRequest.onprogress=t.onProgress),Object(h.h)(t.onAbort)||(t.httpRequest.onabort=t.onAbort),Object(h.h)(t.onError)||(t.httpRequest.onerror=t.onError),Object(h.h)(t.onUploadProgress)||(t.httpRequest.upload.onprogress=t.onUploadProgress),t.httpRequest.open(t.type,t.url,t.mode),Object(h.h)(t.data)||null===t.contentType||t.httpRequest.setRequestHeader("Content-Type",t.contentType||"application/json; charset=utf-8"),t.beforeSend&&t.beforeSend(i),i.cancel||t.httpRequest.send(Object(h.h)(t.data)?null:t.data)})},e.prototype.successHandler=function(e){return this.onSuccess&&this.onSuccess(e,this),e},e.prototype.failureHandler=function(e){return this.onFailure&&this.onFailure(this.httpRequest),e},e.prototype.stateChange=function(e,t){var i=this.httpRequest.responseText;if(this.dataType&&"json"===this.dataType.toLowerCase())if(""===i)i=void 0;else try{i=JSON.parse(i)}catch(e){}4===this.httpRequest.readyState&&(this.httpRequest.status>=200&&this.httpRequest.status<=299||304===this.httpRequest.status?e(this.successHandler(i)):this.emitError?t(new Error(this.failureHandler(this.httpRequest.statusText))):e())},e.prototype.getResponseHeader=function(e){var t,i;t={};for(var r=W.exec(this.httpRequest.getAllResponseHeaders());r;)t[r[1].toLowerCase()]=r[2],r=W.exec(this.httpRequest.getAllResponseHeaders());return i=t[e.toLowerCase()],Object(h.h)(i)?null:i},e}(),F=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),V=function(){function e(t){this.options={from:"table",requestType:"json",sortBy:"sorted",select:"select",skip:"skip",group:"group",take:"take",search:"search",count:"requiresCounts",where:"where",aggregates:"aggregates"},this.type=e,this.dataSource=t,this.pvt={}}return e.prototype.processResponse=function(e,t,i,r){return e},e}(),H=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return F(t,e),t.prototype.processQuery=function(e,t){for(var i,r,n=e.dataSource.json.slice(0),s=n.length,o=!0,a={},u=0;u<t.queries.length;u++)i=this[(r=t.queries[u]).fn].call(this,n,r.e,t),"onAggregates"===r.fn?a[r.e.field+" - "+r.e.type]=i:n=void 0!==i?i:n,"onPage"!==r.fn&&"onSkip"!==r.fn&&"onTake"!==r.fn&&"onRange"!==r.fn||(o=!1),o&&(s=n.length);return t.isCountRequired&&(n={result:n,count:s,aggregates:a}),n},t.prototype.batchRequest=function(e,t,i){var r;for(r=0;r<t.addedRecords.length;r++)this.insert(e,t.addedRecords[r]);for(r=0;r<t.changedRecords.length;r++)this.update(e,i.key,t.changedRecords[r]);for(r=0;r<t.deletedRecords.length;r++)this.remove(e,i.key,t.deletedRecords[r]);return t},t.prototype.onWhere=function(e,t){return e&&e.length?e.filter(function(e){if(t)return t.validate(e)}):e},t.prototype.onAggregates=function(e,t){var i=K.aggregates[t.type];return e&&i&&0!==e.length?i(e,t.field):null},t.prototype.onSearch=function(e,t){return e&&e.length?(0===t.fieldNames.length&&K.getFieldList(e[0],t.fieldNames),e.filter(function(e){for(var i=0;i<t.fieldNames.length;i++)if(t.comparer.call(e,K.getObject(t.fieldNames[i],e),t.searchKey,t.ignoreCase,t.ignoreAccent))return!0;return!1})):e},t.prototype.onSortBy=function(e,t,i){if(!e||!e.length)return e;var r,n=K.getValue(t.fieldName,i);if(!n)return e.sort(t.comparer);if(n instanceof Array){for(var s=(n=n.slice(0)).length-1;s>=0;s--)n[s]&&(r=t.comparer,K.endsWith(n[s]," desc")&&(r=K.fnSort("descending"),n[s]=n[s].replace(" desc","")),e=K.sort(e,n[s],r));return e}return K.sort(e,n,t.comparer)},t.prototype.onGroup=function(e,t,i){if(!e||!e.length)return e;var r=Y.filterQueries(i.queries,"onAggregates"),n=[];if(r.length)for(var s=void 0,o=0;o<r.length;o++)n.push({type:(s=r[o].e).type,field:K.getValue(s.field,i)});return K.group(e,K.getValue(t.fieldName,i),n,null,null,t.comparer)},t.prototype.onPage=function(e,t,i){var r=K.getValue(t.pageSize,i),n=(K.getValue(t.pageIndex,i)-1)*r;return e&&e.length?e.slice(n,n+r):e},t.prototype.onRange=function(e,t){return e&&e.length?e.slice(K.getValue(t.start),K.getValue(t.end)):e},t.prototype.onTake=function(e,t){return e&&e.length?e.slice(0,K.getValue(t.nos)):e},t.prototype.onSkip=function(e,t){return e&&e.length?e.slice(K.getValue(t.nos)):e},t.prototype.onSelect=function(e,t){return e&&e.length?K.select(e,K.getValue(t.fieldNames)):e},t.prototype.insert=function(e,t,i,r,n){return Object(h.h)(n)?e.dataSource.json.push(t):e.dataSource.json.splice(n,0,t)},t.prototype.remove=function(e,t,i,r){var n,s=e.dataSource.json;for("object"==typeof i&&(i=i[t]),n=0;n<s.length&&s[n][t]!==i;n++);return n!==s.length?s.splice(n,1):null},t.prototype.update=function(e,t,i,r){var n,s=e.dataSource.json,o=i[t];for(n=0;n<s.length&&s[n][t]!==o;n++);return n<s.length?Object(h.j)(s[n],i):null},t}(V),U=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return F(t,e),t.prototype.processQuery=function(e,t,i){var r,n,s=this.getQueryRequest(t),o=Y.filterQueryLists(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),a=t.params,u=e.dataSource.url,l=null,c=this.options,p={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};"onPage"in o?n=((n=K.getValue((r=o.onPage).pageIndex,t))-1)*(l=K.getValue(r.pageSize,t)):"onRange"in o&&(n=(r=o.onRange).start,l=r.end-r.start);for(var h=0;h<s.sorts.length;h++)r=K.getValue(s.sorts[h].e.fieldName,t),p.sorts.push(K.callAdaptorFunction(this,"onEachSort",{name:r,direction:s.sorts[h].e.direction},t));for(i&&(r=this.getFiltersFrom(i,t))&&p.filters.push(K.callAdaptorFunction(this,"onEachWhere",r.toJson(),t)),h=0;h<s.filters.length;h++){p.filters.push(K.callAdaptorFunction(this,"onEachWhere",s.filters[h].e.toJson(),t));for(var d=0,f="object"==typeof p.filters[h]?Object.keys(p.filters[h]):[];d<f.length;d++)K.isNull(p[v=f[d]])&&delete p[v]}for(h=0;h<s.searches.length;h++)p.searches.push(K.callAdaptorFunction(this,"onEachSearch",{fields:(r=s.searches[h].e).fieldNames,operator:r.operator,key:r.searchKey,ignoreCase:r.ignoreCase},t));for(h=0;h<s.groups.length;h++)p.groups.push(K.getValue(s.groups[h].e.fieldName,t));for(h=0;h<s.aggregates.length;h++)p.aggregates.push({type:(r=s.aggregates[h].e).type,field:K.getValue(r.field,t)});var g={};this.getRequestQuery(c,t,o,p,g),K.callAdaptorFunction(this,"addParams",{dm:e,query:t,params:a,reqParams:g});for(var m=0,y=Object.keys(g);m<y.length;m++){var v;(K.isNull(g[v=y[m]])||""===g[v]||0===g[v].length)&&delete g[v]}c.skip in g&&c.take in g||null===l||(g[c.skip]=K.callAdaptorFunction(this,"onSkip",n,t),g[c.take]=K.callAdaptorFunction(this,"onTake",l,t));var b=this.pvt;return this.pvt={},"json"===this.options.requestType?{data:JSON.stringify(g),url:u,pvtData:b,type:"POST",contentType:"application/json; charset=utf-8"}:(r=this.convertToQueryString(g,t,e),{type:"GET",url:(r=(-1!==e.dataSource.url.indexOf("?")?"&":"/")+r).length?u.replace(/\/*$/,r):u,pvtData:b})},t.prototype.getRequestQuery=function(e,t,i,r,n){var s=n;s[e.from]=t.fromTable,e.apply&&t.distincts.length&&(s[e.apply]="onDistinct"in this?K.callAdaptorFunction(this,"onDistinct",t.distincts):""),e.expand&&(s[e.expand]="onExpand"in this&&"onSelect"in i?K.callAdaptorFunction(this,"onExpand",{selects:K.getValue(i.onSelect.fieldNames,t),expands:t.expands},t):t.expands),s[e.select]="onSelect"in i?K.callAdaptorFunction(this,"onSelect",K.getValue(i.onSelect.fieldNames,t),t):"",s[e.count]=t.isCountRequired?K.callAdaptorFunction(this,"onCount",t.isCountRequired,t):"",s[e.search]=r.searches.length?K.callAdaptorFunction(this,"onSearch",r.searches,t):"",s[e.skip]="onSkip"in i?K.callAdaptorFunction(this,"onSkip",K.getValue(i.onSkip.nos,t),t):"",s[e.take]="onTake"in i?K.callAdaptorFunction(this,"onTake",K.getValue(i.onTake.nos,t),t):"",s[e.where]=r.filters.length||r.searches.length?K.callAdaptorFunction(this,"onWhere",r.filters,t):"",s[e.sortBy]=r.sorts.length?K.callAdaptorFunction(this,"onSortBy",r.sorts,t):"",s[e.group]=r.groups.length?K.callAdaptorFunction(this,"onGroup",r.groups,t):"",s[e.aggregates]=r.aggregates.length?K.callAdaptorFunction(this,"onAggregates",r.aggregates,t):"",s.param=[]},t.prototype.convertToQueryString=function(e,t,i){return""},t.prototype.processResponse=function(e,t,i,r,n,s){var o=n,a=o.pvtData||{},u=e.groupDs;if(r&&r.getResponseHeader("Content-Type")&&-1!==r.getResponseHeader("Content-Type").indexOf("xml"))return i.isCountRequired?{result:[],count:0}:[];var l=JSON.parse(o.data);if(l&&"batch"===l.action&&e.addedRecords)return s.addedRecords=e.addedRecords,s;e.d&&(e=e.d);var c={};return"count"in e&&(c.count=e.count),c.result=e.result?e.result:e,this.getAggregateResult(a,e,c,u,i),K.isNull(c.count)?c.result:{result:c.result,count:c.count,aggregates:c.aggregates}},t.prototype.onGroup=function(e){return this.pvt.groups=e,e},t.prototype.onAggregates=function(e){this.pvt.aggregates=e},t.prototype.batchRequest=function(e,t,i,r,n){return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.removeUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({changed:t.changedRecords,added:t.addedRecords,deleted:t.deletedRecords,action:"batch",table:i[void 0],key:i[void 0]})}},t.prototype.beforeSend=function(e,t){},t.prototype.insert=function(e,t,i){return{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify({value:t,table:i,action:"insert"})}},t.prototype.remove=function(e,t,i,r){return{type:"POST",url:e.dataSource.removeUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify({key:i,keyColumn:t,table:r,action:"remove"})}},t.prototype.update=function(e,t,i,r){return{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify({value:i,action:"update",keyColumn:t,key:i[t],table:r})}},t.prototype.getFiltersFrom=function(e,t){var i,r=t.fKey,n=r,s=t.key,o=[];"object"!=typeof e[0]&&(n=null);for(var a=0;a<e.length;a++)i="object"==typeof e[0]?K.getObject(s||n,e[a]):e[a],o.push(new _(r,"equal",i));return _.or(o)},t.prototype.getAggregateResult=function(e,t,i,r,n){var s=t;if(t&&t.result&&(s=t.result),e&&e.aggregates&&e.aggregates.length){var o=e.aggregates,a=void 0,u=s,l={};t.aggregate&&(u=t.aggregate);for(var c=0;c<o.length;c++)(a=K.aggregates[o[c].type])&&(l[o[c].field+" - "+o[c].type]=a(u,o[c].field));i.aggregates=l}if(e&&e.groups&&e.groups.length){var p=e.groups;for(c=0;c<p.length;c++){Object(h.h)(r)||(r=K.group(r,p[c]));var d=Y.filterQueries(n.queries,"onGroup")[c].e;s=K.group(s,p[c],e.aggregates,null,r,d.comparer)}i.result=s}return i},t.prototype.getQueryRequest=function(e){var t={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};return t.sorts=Y.filterQueries(e.queries,"onSortBy"),t.groups=Y.filterQueries(e.queries,"onGroup"),t.filters=Y.filterQueries(e.queries,"onWhere"),t.searches=Y.filterQueries(e.queries,"onSearch"),t.aggregates=Y.filterQueries(e.queries,"onAggregates"),t},t.prototype.addParams=function(e){var t=e.reqParams;e.params.length&&(t.params={});for(var i=0,r=e.params;i<r.length;i++){var n=r[i];if(t[n.key])throw new Error("Query() - addParams: Custom Param is conflicting other request arguments");t[n.key]=n.value,n.fn&&(t[n.key]=n.fn.call(e.query,n.key,e.query,e.dm)),t.params[n.key]=t[n.key]}},t}(V),Q=function(e){function t(t){var i=e.call(this)||this;return i.options=Object(h.d)({},i.options,{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$inlinecount",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 ",updateType:"PUT"}),i.getModuleName=Object(h.g)("getModulename",i),Object(h.d)(i.options,t||{}),i}return F(t,e),t.prototype.onPredicate=function(e,i,r){var n,s,o="",a=e.value,u=typeof a,l=e.field?t.getField(e.field):null;if(a instanceof Date&&(a="datetime'"+K.parse.replacer(a)+"'"),"string"===u&&(a="'"+a+"'",r&&(l="cast("+l+", 'Edm.String')"),K.parse.isGuid(a)&&(s="guid"),e.ignoreCase&&(s||(l="tolower("+l+")"),a=a.toLowerCase())),n=K.odBiOperator[e.operator])return o+=l,o+=n,s&&(o+=s),o+a;if(Object(h.h)(this.getModuleName)?n=K.odUniOperator[e.operator]:"ODataV4Adaptor"===this.getModuleName()&&(n=K.odv4UniOperator[e.operator]),"substringof"===n){var c=a;a=l,l=c}return o+=n+"(",o+=l+",",s&&(o+=s),o+(a+")")},t.prototype.addParams=function(t){e.prototype.addParams.call(this,t),delete t.reqParams.params},t.prototype.onComplexPredicate=function(e,t,i){for(var r=[],n=0;n<e.predicates.length;n++)r.push("("+this.onEachWhere(e.predicates[n],t,i)+")");return r.join(" "+e.condition+" ")},t.prototype.onEachWhere=function(e,t,i){return e.isComplex?this.onComplexPredicate(e,t,i):this.onPredicate(e,t,i)},t.prototype.onWhere=function(e){return this.pvt.search&&e.push(this.onEachWhere(this.pvt.search,null,!0)),e.join(" and ")},t.prototype.onEachSearch=function(e){e.fields&&0===e.fields.length&&K.throwError("Query() - Search : oData search requires list of field names to search");for(var t=this.pvt.search||[],i=0;i<e.fields.length;i++)t.push(new _(e.fields[i],e.operator,e.key,e.ignoreCase));this.pvt.search=t},t.prototype.onSearch=function(e){return this.pvt.search=_.or(this.pvt.search),""},t.prototype.onEachSort=function(e){var i=[];if(e.name instanceof Array)for(var r=0;r<e.name.length;r++)i.push(t.getField(e.name[r])+("descending"===e.direction?" desc":""));else i.push(t.getField(e.name)+("descending"===e.direction?" desc":""));return i.join(",")},t.prototype.onSortBy=function(e){return e.reverse().join(",")},t.prototype.onGroup=function(e){return this.pvt.groups=e,[]},t.prototype.onSelect=function(e){for(var i=0;i<e.length;i++)e[i]=t.getField(e[i]);return e.join(",")},t.prototype.onAggregates=function(e){return this.pvt.aggregates=e,""},t.prototype.onCount=function(e){return!0===e?"allpages":""},t.prototype.beforeSend=function(e,t,i){K.endsWith(i.url,this.options.batch)&&"post"===i.type.toLowerCase()?(t.setRequestHeader("Accept",this.options.multipartAccept),t.setRequestHeader("DataServiceVersion","2.0"),t.overrideMimeType("text/plain; charset=x-user-defined")):t.setRequestHeader("Accept",this.options.accept),t.setRequestHeader("DataServiceVersion","2.0"),t.setRequestHeader("MaxDataServiceVersion","2.0")},t.prototype.processResponse=function(e,t,i,r,n,s){if(!Object(h.h)(e.d)){var o=i&&i.isCountRequired?e.d.results:e.d;if(!Object(h.h)(o))for(var a=0;a<o.length;a++)Object(h.h)(o[a].__metadata)||delete o[a].__metadata}var u=n&&n.pvtData,l=this.processBatchResponse(e,i,r,n,s);if(l)return l;var c=r&&n.getResponseHeader("DataServiceVersion"),p=null,d=c&&parseInt(c,10)||2;i&&i.isCountRequired&&((e.__count||e["odata.count"])&&(p=e.__count||e["odata.count"]),e.d&&(e=e.d),(e.__count||e["odata.count"])&&(p=e.__count||e["odata.count"])),3===d&&e.value&&(e=e.value),e.d&&(e=e.d),d<3&&e.results&&(e=e.results);var f={};return f.count=p,f.result=e,this.getAggregateResult(u,e,f,null,i),K.isNull(p)?f.result:{result:f.result,count:f.count,aggregates:f.aggregates}},t.prototype.convertToQueryString=function(e,t,i){var r=[],n=e.table||"";delete e.table,i.dataSource.requiresFormat&&(e.$format="json");for(var s=0,o=Object.keys(e);s<o.length;s++){var a=o[s];r.push(a+"="+e[a])}return r=r.join("&"),i.dataSource.url&&-1!==i.dataSource.url.indexOf("?")&&!n?r:r.length?n+"?"+r:n||""},t.prototype.localTimeReplacer=function(e,t){for(var i=0,r=Object(h.h)(t)?[]:Object.keys(t);i<r.length;i++){var n=r[i];t[n]instanceof Date&&(t[n]=K.dateParse.toLocalTime(t[n]))}return t},t.prototype.insert=function(e,t,i){return{url:e.dataSource.url.replace(/\/*$/,i?"/"+i:""),data:JSON.stringify(t,this.options.localTime?this.localTimeReplacer:null)}},t.prototype.remove=function(e,t,i,r){var n;return n="string"!=typeof i||K.parse.isGuid(i)?"("+i+")":"('"+i+"')",{type:"DELETE",url:e.dataSource.url.replace(/\/*$/,r?"/"+r:"")+n}},t.prototype.update=function(e,t,i,r,n,s){var o;return"PATCH"!==this.options.updateType||Object(h.h)(s)||(i=this.compareAndRemove(i,s,t)),o="string"!=typeof i[t]||K.parse.isGuid(i[t])?"("+i[t]+")":"('"+i[t]+"')",{type:this.options.updateType,url:e.dataSource.url.replace(/\/*$/,r?"/"+r:"")+o,data:JSON.stringify(i,this.options.localTime?this.localTimeReplacer:null),accept:this.options.accept}},t.prototype.batchRequest=function(e,t,i,r,n){var s=i.guid=K.getGuid(this.options.batchPre),o=e.dataSource.url.replace(/\/*$/,"/"+this.options.batch),a={url:i.url,key:i.key,cid:1,cSet:K.getGuid(this.options.changeSet)},u="--"+s+"\n";return u+="Content-Type: multipart/mixed; boundary="+a.cSet.replace("--","")+"\n",this.pvt.changeSet=0,u+=this.generateInsertRequest(t.addedRecords,a),u+=this.generateUpdateRequest(t.changedRecords,a,n?n.changedRecords:[]),u+=this.generateDeleteRequest(t.deletedRecords,a),u+=a.cSet+"--\n",{type:"POST",url:o,dataType:"json",contentType:"multipart/mixed; charset=UTF-8;boundary="+s,data:u+="--"+s+"--"}},t.prototype.generateDeleteRequest=function(e,t){return e?this.generateBodyContent(e,t,{method:"DELETE ",url:function(e,t,i){return"("+e[t][i]+")"},data:function(e,t){return""}})+"\n":""},t.prototype.generateInsertRequest=function(e,t){return e?this.generateBodyContent(e,t,{method:"POST ",url:function(e,t,i){return""},data:function(e,t){return JSON.stringify(e[t])+"\n\n"}}):""},t.prototype.generateUpdateRequest=function(e,t,i){var r=this;return e?(e.forEach(function(e){return e=r.compareAndRemove(e,i.filter(function(i){return K.getObject(t.key,i)===K.getObject(t.key,e)})[0],t.key)}),this.generateBodyContent(e,t,{method:this.options.updateType+" ",url:function(e,t,i){return"("+e[t][i]+")"},data:function(e,t){return JSON.stringify(e[t])+"\n\n"}})):""},t.getField=function(e){return e.replace(/\./g,"/")},t.prototype.generateBodyContent=function(e,t,i){for(var r="",n=0;n<e.length;n++)r+="\n"+t.cSet+"\n",r+=this.options.changeSetContent+"\n\n",r+=i.method,r+=t.url+i.url(e,n,t.key)+" HTTP/1.1\n",r+="Accept: "+this.options.accept+"\n",r+="Content-Id: "+this.pvt.changeSet+++"\n",r+=this.options.batchChangeSetContentType+"\n",Object(h.h)(e[n]["@odata.etag"])?r+="\n":(r+="If-Match: "+e[n]["@odata.etag"]+"\n\n",delete e[n]["@odata.etag"]),r+=i.data(e,n);return r},t.prototype.processBatchResponse=function(e,t,i,r,n){if(i&&i.getResponseHeader("Content-Type")&&-1!==i.getResponseHeader("Content-Type").indexOf("xml"))return t.isCountRequired?{result:[],count:0}:[];if(r&&this.options.batch&&K.endsWith(r.url,this.options.batch)&&"post"===r.type.toLowerCase()){var s=i.getResponseHeader("Content-Type"),o=void 0,a=void 0,u=e+"";if(s=s.substring(s.indexOf("=batchresponse")+1),(u=u.split(s)).length<2)return{};var l=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(u=u[1]);l&&u.replace(l[0],"");for(var c=(u=u.split(l?l[1]:"")).length;c>-1;c--)/\bContent-ID:/i.test(u[c])&&/\bHTTP.+201/.test(u[c])&&(o=parseInt(/\bContent-ID: (\d+)/i.exec(u[c])[1],10),n.addedRecords[o]&&(a=K.parse.parseJson(/^\{.+\}/m.exec(u[c])[0]),Object(h.d)({},n.addedRecords[o],this.processResponse(a))));return n}return null},t.prototype.compareAndRemove=function(e,t,i){var r=this;return Object(h.h)(t)?e:(Object.keys(e).forEach(function(n){n!==i&&"@odata.etag"!==n&&(K.isPlainObject(e[n])?(r.compareAndRemove(e[n],t[n]),0===Object.keys(e[n]).filter(function(e){return"@odata.etag"!==e}).length&&delete e[n]):e[n]===t[n]?delete e[n]:e[n]&&t[n]&&e[n].valueOf()===t[n].valueOf()&&delete e[n])}),e)},t}(U),J=function(e){function t(){var t=e.call(this)||this;return Object(h.l)("beforeSend",U.prototype.beforeSend,t),t}return F(t,e),t.prototype.insert=function(e,t,i){return this.updateType="add",{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify({value:t,table:i,action:"insert"})}},t.prototype.remove=function(t,i,r,n){return e.prototype.remove.call(this,t,i,r),{type:"POST",url:t.dataSource.removeUrl||t.dataSource.crudUrl||t.dataSource.url,data:JSON.stringify({key:r,keyColumn:i,table:n,action:"remove"})}},t.prototype.update=function(e,t,i,r){return this.updateType="update",this.updateKey=t,{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify({value:i,action:"update",keyColumn:t,key:i[t],table:r})}},t.prototype.processResponse=function(t,i,r,n,s,o,a){var u;if("add"===this.updateType&&e.prototype.insert.call(this,i,t),"update"===this.updateType&&e.prototype.update.call(this,i,this.updateKey,t),t.added)for(u=0;u<t.added.length;u++)e.prototype.insert.call(this,i,t.added[u]);if(t.changed)for(u=0;u<t.changed.length;u++)e.prototype.update.call(this,i,a.key,t.changed[u]);if(t.deleted)for(u=0;u<t.deleted.length;u++)e.prototype.remove.call(this,i,a.key,t.deleted[u]);return t},t.prototype.batchRequest=function(e,t,i){return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({changed:t.changedRecords,added:t.addedRecords,deleted:t.deletedRecords,action:"batch",table:i.url,key:i.key})}},t}(H),B=function(e){function t(t,i,r){var n=e.call(this)||this;n.isCrudAction=!1,n.isInsertAction=!1,Object(h.h)(t)||(n.cacheAdaptor=t),n.pageSize=r,n.guidId=K.getGuid("cacheAdaptor"),window.localStorage.setItem(n.guidId,JSON.stringify({keys:[],results:[]}));var s=n.guidId;return Object(h.h)(i)||setInterval(function(){var e;e=K.parse.parseJson(window.localStorage.getItem(s));for(var t=[],r=0;r<e.results.length;r++){var n=+new Date,o=+new Date(e.results[r].timeStamp);e.results[r].timeStamp=n-o,n-o>i&&t.push(r)}for(r=0;r<t.length;r++)e.results.splice(t[r],1),e.keys.splice(t[r],1);window.localStorage.removeItem(s),window.localStorage.setItem(s,JSON.stringify(e))},i),n}return F(t,e),t.prototype.generateKey=function(e,t){var i=this.getQueryRequest(t),r=Y.filterQueryLists(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),n=e;"onPage"in r&&(n+=r.onPage.pageIndex),i.sorts.forEach(function(e){n+=e.e.direction+e.e.fieldName}),i.groups.forEach(function(e){n+=e.e.fieldName}),i.searches.forEach(function(e){n+=e.e.searchKey});for(var s=0;s<i.filters.length;s++){var o=i.filters[s];if(o.e.isComplex){var a=t.clone();a.queries=[];for(var u=0;u<o.e.predicates.length;u++)a.queries.push({fn:"onWhere",e:o.e.predicates[u],filter:t.queries.filter});n+=o.e.condition+this.generateKey(e,a)}else n+=o.e.field+o.e.operator+o.e.value}return n},t.prototype.processQuery=function(e,t,i){var r,n=this.generateKey(e.dataSource.url,t),s=(r=K.parse.parseJson(window.localStorage.getItem(this.guidId)))?r.results[r.keys.indexOf(n)]:null;return null==s||this.isCrudAction||this.isInsertAction?(this.isCrudAction=null,this.isInsertAction=null,this.cacheAdaptor.processQuery.apply(this.cacheAdaptor,[].slice.call(arguments,0))):s},t.prototype.processResponse=function(e,t,i,r,n,s){if(this.isInsertAction||n&&this.cacheAdaptor.options.batch&&K.endsWith(n.url,this.cacheAdaptor.options.batch)&&"post"===n.type.toLowerCase())return this.cacheAdaptor.processResponse(e,t,i,r,n,s);e=this.cacheAdaptor.processResponse.apply(this.cacheAdaptor,[].slice.call(arguments,0));var o=i?this.generateKey(t.dataSource.url,i):t.dataSource.url,a={},u=(a=K.parse.parseJson(window.localStorage.getItem(this.guidId))).keys.indexOf(o);for(-1!==u&&(a.results.splice(u,1),a.keys.splice(u,1)),a.results[a.keys.push(o)-1]={keys:o,result:e.result,timeStamp:new Date,count:e.count};a.results.length>this.pageSize;)a.results.splice(0,1),a.keys.splice(0,1);return window.localStorage.setItem(this.guidId,JSON.stringify(a)),e},t.prototype.beforeSend=function(e,t,i){K.endsWith(i.url,this.cacheAdaptor.options.batch)&&"post"===i.type.toLowerCase()&&t.setRequestHeader("Accept",this.cacheAdaptor.options.multipartAccept),e.dataSource.crossDomain||t.setRequestHeader("Accept",this.cacheAdaptor.options.accept)},t.prototype.update=function(e,t,i,r){return this.isCrudAction=!0,this.cacheAdaptor.update(e,t,i,r)},t.prototype.insert=function(e,t,i){return this.isInsertAction=!0,this.cacheAdaptor.insert(e,t,i)},t.prototype.remove=function(e,t,i,r){return this.isCrudAction=!0,this.cacheAdaptor.remove(e,t,i,r)},t.prototype.batchRequest=function(e,t,i){return this.cacheAdaptor.batchRequest(e,t,i)},t}(U),z=function(){function e(e,t,i){var r,n=this;return this.dateParse=!0,this.requests=[],e||this.dataSource||(e=[]),i=i||e.adaptor,e instanceof Array?r={json:e,offline:!0}:"object"==typeof e?(e.json||(e.json=[]),r={url:e.url,insertUrl:e.insertUrl,removeUrl:e.removeUrl,updateUrl:e.updateUrl,crudUrl:e.crudUrl,batchUrl:e.batchUrl,json:e.json,headers:e.headers,accept:e.accept,data:e.data,timeTillExpiration:e.timeTillExpiration,cachingPageSize:e.cachingPageSize,enableCaching:e.enableCaching,requestType:e.requestType,key:e.key,crossDomain:e.crossDomain,jsonp:e.jsonp,dataType:e.dataType,offline:void 0!==e.offline?e.offline:!(e.adaptor instanceof J||e.url),requiresFormat:e.requiresFormat}):K.throwError("DataManager: Invalid arguments"),void 0!==r.requiresFormat||K.isCors()||(r.requiresFormat=!!Object(h.h)(r.crossDomain)||r.crossDomain),void 0===r.dataType&&(r.dataType="json"),this.dataSource=r,this.defaultQuery=t,r.url&&r.offline&&!r.json.length?(this.isDataAvailable=!1,this.adaptor=i||new Q,this.dataSource.offline=!1,this.ready=this.executeQuery(t||new Y),this.ready.then(function(e){n.dataSource.offline=!0,n.isDataAvailable=!0,r.json=e.result,n.adaptor=new H})):this.adaptor=r.offline?new H:new Q,!r.jsonp&&this.adaptor instanceof Q&&(r.jsonp="callback"),this.adaptor=i||this.adaptor,r.enableCaching&&(this.adaptor=new B(this.adaptor,r.timeTillExpiration,r.cachingPageSize)),this}return e.prototype.setDefaultQuery=function(e){return this.defaultQuery=e,this},e.prototype.executeLocal=function(t){this.defaultQuery||t instanceof Y||K.throwError("DataManager - executeLocal() : A query is required to execute"),this.dataSource.json||K.throwError("DataManager - executeLocal() : Json data is required to execute");var i=this.adaptor.processQuery(this,t=t||this.defaultQuery);if(t.subQuery){var r=t.subQuery.fromTable,n=t.subQuery.lookups,s=t.isCountRequired?i.result:i;n&&n instanceof Array&&K.buildHierarchy(t.subQuery.fKey,r,s,n,t.subQuery.key);for(var o=0;o<s.length;o++)s[o][r]instanceof Array&&(s[o]=Object(h.d)({},{},s[o]),s[o][r]=this.adaptor.processResponse(t.subQuery.using(new e(s[o][r].slice(0))).executeLocal(),this,t))}return this.adaptor.processResponse(i,this,t)},e.prototype.executeQuery=function(t,i,r,n){var s=this;"function"==typeof t&&(n=r,r=i,i=t,t=null),t||(t=this.defaultQuery),t instanceof Y||K.throwError("DataManager - executeQuery() : A query is required to execute");var o=new G,a={query:t};if(this.dataSource.offline||void 0===this.dataSource.url||""===this.dataSource.url)e.nextTick(function(){var i=s.executeLocal(t);a=e.getDeferedArgs(t,i,a),o.resolve(a)});else{var u=this.adaptor.processQuery(this,t);this.makeRequest(u,o,a,t)}return(i||r)&&o.promise.then(i,r),n&&o.promise.then(n,n),o.promise},e.getDeferedArgs=function(e,t,i){return e.isCountRequired?(i.result=t.result,i.count=t.count,i.aggregates=t.aggregates):i.result=t,i},e.nextTick=function(e){(window.setImmediate||window.setTimeout)(e,0)},e.prototype.extendRequest=function(e,t,i){return Object(h.d)({},{type:"GET",dataType:this.dataSource.dataType,crossDomain:this.dataSource.crossDomain,jsonp:this.dataSource.jsonp,cache:!0,processData:!1,onSuccess:t,onFailure:i},e)},e.prototype.makeRequest=function(e,t,i,r){var n=this,s=!!r.subQuerySelector,o=function(e){i.error=e,t.reject(i)},a=function(e,r,n,s,o,a,u){i.xhr=n,i.count=r?parseInt(r.toString(),10):0,i.result=e,i.request=s,i.aggregates=a,i.actual=o,i.virtualSelectRecords=u,t.resolve(i)},u=function(e,t){var u=new G,l={parent:i};r.subQuery.isChild=!0;var c=n.adaptor.processQuery(n,r.subQuery,e?n.adaptor.processResponse(e):t),p=n.makeRequest(c,u,l,r.subQuery);return s||u.then(function(t){e&&(K.buildHierarchy(r.subQuery.fKey,r.subQuery.fromTable,e,t,r.subQuery.key),a(e,t.count,t.xhr))},o),p},l=this.extendRequest(e,function(e,t){-1===t.httpRequest.getResponseHeader("Content-Type").indexOf("xml")&&n.dateParse&&(e=K.parse.parseJson(e));var i=n.adaptor.processResponse(e,n,r,t.httpRequest,t),o=0,l=null,c=e.virtualSelectRecords;r.isCountRequired&&(o=i.count,l=i.aggregates,i=i.result),r.subQuery?s||u(i,t):a(i,o,t.httpRequest,t.type,e,l,c)},o),c=new N(l);if(c.beforeSend=function(){n.beforeSend(c.httpRequest,c)},(l=c.send()).catch(function(e){return!0}),this.requests.push(c),s){var p=r.subQuerySelector.call(this,{query:r.subQuery,parent:r});p&&p.length?Promise.all([l,u(null,p)]).then(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=e[0],o=n.adaptor.processResponse(i[0],n,r,n.requests[0].httpRequest,n.requests[0]),u=0;r.isCountRequired&&(u=o.count,o=o.result);var l=n.adaptor.processResponse(i[1],n,r.subQuery,n.requests[1].httpRequest,n.requests[1]);u=0,r.subQuery.isCountRequired&&(u=l.count,l=l.result),K.buildHierarchy(r.subQuery.fKey,r.subQuery.fromTable,o,l,r.subQuery.key),s=!1,a(o,u,n.requests[0].httpRequest)}):s=!1}return l},e.prototype.beforeSend=function(e,t){this.adaptor.beforeSend(this,e,t);for(var i,r=this.dataSource.headers,n=0;r&&n<r.length;n++){i=[];for(var s=0,o=Object.keys(r[n]);s<o.length;s++){var a=o[s];i.push(a),e.setRequestHeader(a,r[n][a])}}},e.prototype.saveChanges=function(e,t,i,r,n){var s=this;i instanceof Y&&(r=i,i=null);var o={url:i,key:t||this.dataSource.key},a=this.adaptor.batchRequest(this,e,o,r,n);if(this.dataSource.offline)return a;var u=new G,l=new N(a);return l.beforeSend=function(){s.beforeSend(l.httpRequest,l)},l.onSuccess=function(t,i){u.resolve(s.adaptor.processResponse(K.parse.parseJson(t),s,null,i.httpRequest,i,e,o))},l.onFailure=function(e){u.reject([{error:e}])},l.send().catch(function(e){return!0}),u.promise},e.prototype.insert=function(e,t,i,r){t instanceof Y&&(i=t,t=null);var n=this.adaptor.insert(this,e,t,i,r);return this.dataSource.offline?n:this.doAjaxRequest(n)},e.prototype.remove=function(e,t,i,r){"object"==typeof t&&(t=t[e]),i instanceof Y&&(r=i,i=null);var n=this.adaptor.remove(this,e,t,i,r);return this.dataSource.offline?n:this.doAjaxRequest(n)},e.prototype.update=function(e,t,i,r,n){i instanceof Y&&(r=i,i=null);var s=this.adaptor.update(this,e,t,i,r,n);return this.dataSource.offline?s:this.doAjaxRequest(s)},e.prototype.doAjaxRequest=function(e){var t=this,i=new G;e=Object(h.d)({},{type:"POST",contentType:"application/json; charset=utf-8",processData:!1},e);var r=new N(e);return r.beforeSend=function(){t.beforeSend(r.httpRequest,r)},r.onSuccess=function(e,r){try{K.parse.parseJson(e)}catch(t){e=[]}e=t.adaptor.processResponse(K.parse.parseJson(e),t,null,r.httpRequest,r),i.resolve(e)},r.onFailure=function(e){i.reject([{error:e}])},r.send().catch(function(e){return!0}),i.promise},e}(),G=function(){return function(){var e=this;this.promise=new Promise(function(t,i){e.resolve=t,e.reject=i}),this.then=this.promise.then.bind(this.promise),this.catch=this.promise.catch.bind(this.promise)}}(),K=function(){function e(){}return e.getValue=function(e,t){return"function"==typeof e?e.call(t||{}):e},e.endsWith=function(e,t){return e.slice(-t.length)===t},e.startsWith=function(e,t){return e.slice(0,t.length)===t},e.fnSort=function(t){return"ascending"===(t=t?e.toLowerCase(t):"ascending")?this.fnAscending:this.fnDescending},e.fnAscending=function(e,t){return null===t||void 0===t?-1:"string"==typeof e?e.localeCompare(t):null===e||void 0===e?1:e-t},e.fnDescending=function(e,t){return null===t||void 0===t?1:"string"==typeof e?-1*e.localeCompare(t):null===e||void 0===e?-1:t-e},e.extractFields=function(e,t){for(var i={},r=0;r<t.length;r++)i=this.setValue(t[r],this.getObject(t[r],e),i);return i},e.select=function(e,t){for(var i=[],r=0;r<e.length;r++)i.push(this.extractFields(e[r],t));return i},e.group=function(t,i,r,n,s,o){n=n||1;var a=t;if("{271bbba0-1ee7}"===a.GroupGuid){for(var u=function(e){if(Object(h.h)(s))a[e].items=l.group(a[e].items,i,r,a.level+1,null,o),a[e].count=a[e].items.length;else{var t,n=s.filter(function(t){return t.key===a[e].key});t=s.indexOf(n[0]),a[e].items=l.group(a[e].items,i,r,a.level+1,s[t].items,o),a[e].count=s[t].count}},l=this,c=0;c<a.length;c++)u(c);return a.childLevels+=1,a}var p={},d=[];d.GroupGuid="{271bbba0-1ee7}",d.level=n,d.childLevels=0,d.records=a;for(var f=function(e){var t=g.getVal(a,e,i);if(Object(h.h)(o)||(t=o(t,i)),!p[t]&&(p[t]={key:t,count:0,items:[],aggregates:{},field:i},d.push(p[t]),!Object(h.h)(s))){var r=s.filter(function(e){return e.key===p[t].key});p[t].count=r[0].count}p[t].count=Object(h.h)(s)?p[t].count+=1:p[t].count,p[t].items.push(a[e])},g=this,m=0;m<a.length;m++)f(m);if(r&&r.length){var y=function(t){for(var i={},n=void 0,o=r,a=0;a<r.length;a++)if(n=e.aggregates[r[a].type],Object(h.h)(s))n&&(i[o[a].field+" - "+o[a].type]=n(d[t].items,o[a].field));else{var u=s.filter(function(e){return e.key===d[t].key});n&&(i[o[a].field+" - "+o[a].type]=n(u[0].items,o[a].field))}d[t].aggregates=i};for(m=0;m<d.length;m++)y(m)}return a.length&&d||a},e.buildHierarchy=function(e,t,i,r,n){var s,o={};for(r.result&&(r=r.result),r.GroupGuid&&this.throwError("DataManager: Do not have support Grouping in hierarchy"),s=0;s<r.length;s++)(o[a=this.getObject(e,r[s])]||(o[a]=[])).push(r[s]);for(s=0;s<i.length;s++){var a=this.getObject(n||e,i[s]);i[s][t]=o[a]}},e.getFieldList=function(e,t,i){if(void 0===i&&(i=""),void 0===t||null===t)return this.getFieldList(e,[],i);for(var r=e,n=0,s=Object.keys(e);n<s.length;n++){var o=s[n];"object"!=typeof r[o]||r[o]instanceof Array?t.push(i+o):this.getFieldList(r[o],t,i+o+".")}return t},e.getObject=function(e,t){if(!e)return t;if(t){if(-1===e.indexOf("."))return t[e];for(var i=t,r=e.split("."),n=0;n<r.length&&null!=i;n++)i=i[r[n]];return i}},e.setValue=function(e,t,i){var r,n,s=e.toString().split("."),o=i||{},a=o,u=s.length;for(r=0;r<u;r++)n=s[r],r+1===u?a[n]=void 0===t?void 0:t:Object(h.h)(a[n])&&(a[n]={}),a=a[n];return o},e.sort=function(e,t,i){if(e.length<=1)return e;var r=parseInt((e.length/2).toString(),10),n=e.slice(0,r),s=e.slice(r);return n=this.sort(n,t,i),s=this.sort(s,t,i),this.merge(n,s,t,i)},e.ignoreDiacritics=function(t){return"string"!=typeof t?t:t.split("").map(function(t){return t in e.diacritics?e.diacritics[t]:t}).join("")},e.merge=function(e,t,i,r){for(var n,s=[];e.length>0||t.length>0;)n=e.length>0&&t.length>0?r?r(this.getVal(e,0,i),this.getVal(t,0,i))<=0?e:t:e[0][i]<e[0][i]?e:t:e.length>0?e:t,s.push(n.shift());return s},e.getVal=function(e,t,i){return i?this.getObject(i,e[t]):e[t]},e.toLowerCase=function(e){return e?"string"==typeof e?e.toLowerCase():e.toString():0===e||!1===e?e.toString():""},e.callAdaptorFunction=function(e,t,i,r){if(t in e){var n=e[t](i,r);Object(h.h)(n)||(i=n)}return i},e.isPlainObject=function(e){return!!e&&e.constructor===Object},e.isCors=function(){var e=null;try{e=new window.XMLHttpRequest}catch(e){}return!!e&&"withCredentials"in e},e.getGuid=function(e){var t;return(e||"")+"00000000-0000-4000-0000-000000000000".replace(/0/g,function(e,i){if("crypto"in window&&"getRandomValues"in crypto){var r=new Uint8Array(1);window.crypto.getRandomValues(r),t=r[0]%16|0}else t=16*Math.random()|0;return"0123456789abcdef"[19===i?3&t|8:t]})},e.isNull=function(e){return void 0===e||null===e},e.getItemFromComparer=function(t,i,r){var n,s,o,a=0,u="string"==typeof e.getVal(t,0,i);if(t.length)for(;Object(h.h)(n)&&a<t.length;)n=e.getVal(t,a,i),o=t[a++];for(;a<t.length;a++)s=e.getVal(t,a,i),Object(h.h)(s)||(u&&(n=+n,s=+s),r(n,s)>0&&(n=s,o=t[a]));return o},e.distinct=function(t,i,r){r=!Object(h.h)(r)&&r;var n,s=[],o={};return t.forEach(function(a,u){(n=e.getVal(t,u,i))in o||(s.push(r?t[u]:n),o[n]=1)}),s},e.serverTimezoneOffset=null,e.throwError=function(e){try{throw new Error(e)}catch(e){throw e.message+"\n"+e.stack}},e.aggregates={sum:function(t,i){for(var r,n=0,s="number"!=typeof e.getVal(t,0,i),o=0;o<t.length;o++)r=e.getVal(t,o,i),isNaN(r)||null===r||(s&&(r=+r),n+=r);return n},average:function(t,i){return e.aggregates.sum(t,i)/t.length},min:function(t,i){var r;return"function"==typeof i&&(r=i,i=null),e.getObject(i,e.getItemFromComparer(t,i,r||e.fnAscending))},max:function(t,i){var r;return"function"==typeof i&&(r=i,i=null),e.getObject(i,e.getItemFromComparer(t,i,r||e.fnDescending))},truecount:function(e,t){return new z(e).executeLocal((new Y).where(t,"equal",!0,!0)).length},falsecount:function(e,t){return new z(e).executeLocal((new Y).where(t,"equal",!1,!0)).length},count:function(e,t){return e.length}},e.operatorSymbols={"<":"lessthan",">":"greaterthan","<=":"lessthanorequal",">=":"greaterthanorequal","==":"equal","!=":"notequal","*=":"contains","$=":"endswith","^=":"startswith"},e.odBiOperator={"<":" lt ",">":" gt ","<=":" le ",">=":" ge ","==":" eq ","!=":" ne ",lessthan:" lt ",lessthanorequal:" le ",greaterthan:" gt ",greaterthanorequal:" ge ",equal:" eq ",notequal:" ne "},e.odUniOperator={"$=":"endswith","^=":"startswith","*=":"substringof",endswith:"endswith",startswith:"startswith",contains:"substringof"},e.odv4UniOperator={"$=":"endswith","^=":"startswith","*=":"contains",endswith:"endswith",startswith:"startswith",contains:"contains"},e.diacritics={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"},e.fnOperators={equal:function(t,i,r,n){return n&&(t=e.ignoreDiacritics(t),i=e.ignoreDiacritics(i)),r?e.toLowerCase(t)===e.toLowerCase(i):t===i},notequal:function(t,i,r,n){return n&&(t=e.ignoreDiacritics(t),i=e.ignoreDiacritics(i)),!e.fnOperators.equal(t,i,r)},lessthan:function(t,i,r){return r?e.toLowerCase(t)<e.toLowerCase(i):t<i},greaterthan:function(t,i,r){return r?e.toLowerCase(t)>e.toLowerCase(i):t>i},lessthanorequal:function(t,i,r){return r?e.toLowerCase(t)<=e.toLowerCase(i):t<=i},greaterthanorequal:function(t,i,r){return r?e.toLowerCase(t)>=e.toLowerCase(i):t>=i},contains:function(t,i,r,n){return n&&(t=e.ignoreDiacritics(t),i=e.ignoreDiacritics(i)),r?!Object(h.h)(t)&&!Object(h.h)(i)&&-1!==e.toLowerCase(t).indexOf(e.toLowerCase(i)):!Object(h.h)(t)&&!Object(h.h)(i)&&-1!==t.toString().indexOf(i)},notnull:function(e){return null!==e},isnull:function(e){return null===e},startswith:function(t,i,r,n){return n&&(t=e.ignoreDiacritics(t),i=e.ignoreDiacritics(i)),r?t&&i&&e.startsWith(e.toLowerCase(t),e.toLowerCase(i)):t&&i&&e.startsWith(t,i)},endswith:function(t,i,r,n){return n&&(t=e.ignoreDiacritics(t),i=e.ignoreDiacritics(i)),r?t&&i&&e.endsWith(e.toLowerCase(t),e.toLowerCase(i)):t&&i&&e.endsWith(t,i)},processSymbols:function(t){var i=e.operatorSymbols[t];return i?e.fnOperators[i]:e.throwError("Query - Process Operator : Invalid operator")},processOperator:function(t){return e.fnOperators[t]||e.fnOperators.processSymbols(t)}},e.parse={parseJson:function(t){return"string"==typeof t?t=JSON.parse(t,e.parse.jsonReviver):t instanceof Array?e.parse.iterateAndReviveArray(t):"object"==typeof t&&e.parse.iterateAndReviveJson(t),t},iterateAndReviveArray:function(t){for(var i=0;i<t.length;i++)"object"==typeof t[i]?e.parse.iterateAndReviveJson(t[i]):t[i]="string"!=typeof t[i]||/^[\s]*\[|^[\s]*\{|\"/g.test(t[i])?e.parse.parseJson(t[i]):e.parse.jsonReviver("",t[i])},iterateAndReviveJson:function(t){for(var i,r=0,n=Object.keys(t);r<n.length;r++){var s=n[r];e.startsWith(s,"__")||("object"==typeof(i=t[s])?i instanceof Array?e.parse.iterateAndReviveArray(i):i&&e.parse.iterateAndReviveJson(i):t[s]=e.parse.jsonReviver(t[s],i))}},jsonReviver:function(t,i){var r=i;if("string"==typeof i){var n=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(i);if(n)return e.dateParse.toTimeZone(new Date(parseInt(n[1],10)),e.serverTimezoneOffset,!0);if(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(i)){var s=r.split(/[^0-9]/);i=e.dateParse.toTimeZone(new Date(parseInt(s[0],10),parseInt(s[1],10)-1,parseInt(s[2],10),parseInt(s[3],10),parseInt(s[4],10),parseInt(s[5],10)),e.serverTimezoneOffset,!0)}}return i},isJson:function(t){return"string"==typeof t[0]?t:e.parse.parseJson(t)},isGuid:function(e){return null!=/[A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12}/i.exec(e)},replacer:function(t,i){return e.isPlainObject(t)?e.parse.jsonReplacer(t,i):t instanceof Array?e.parse.arrayReplacer(t):t instanceof Date?e.parse.jsonReplacer({val:t},i).val:t},jsonReplacer:function(t,i){for(var r,n=0,s=Object.keys(t);n<s.length;n++){var o=s[n];(r=t[o])instanceof Date&&(t[o]=e.dateParse.toTimeZone(e.dateParse.addSelfOffset(r),e.serverTimezoneOffset).toJSON())}return t},arrayReplacer:function(t){for(var i=0;i<t.length;i++)e.isPlainObject(t[i])?t[i]=e.parse.jsonReplacer(t[i]):t[i]instanceof Date&&(t[i]=e.parse.jsonReplacer({date:t[i]}).date);return t}},e.dateParse={addSelfOffset:function(e){return new Date(+e-6e4*e.getTimezoneOffset())},toUTC:function(e){return new Date(+e+6e4*e.getTimezoneOffset())},toTimeZone:function(t,i,r){if(null===i)return t;var n=r?e.dateParse.toUTC(t):t;return new Date(+n-36e5*i)},toLocalTime:function(e){var t=e,i=-t.getTimezoneOffset(),r=i>=0?"+":"-",n=function(e){var t=Math.floor(Math.abs(e));return(t<10?"0":"")+t};return t.getFullYear()+"-"+n(t.getMonth()+1)+"-"+n(t.getDate())+"T"+n(t.getHours())+":"+n(t.getMinutes())+":"+n(t.getSeconds())+r+n(i/60)+":"+n(i%60)}},e}(),Y=function(){function e(e){return this.subQuery=null,this.isChild=!1,this.distincts=[],this.queries=[],this.key="",this.fKey="","string"==typeof e?this.fromTable=e:e&&e instanceof Array&&(this.lookups=e),this.expands=[],this.sortedColumns=[],this.groupedColumns=[],this.subQuery=null,this.isChild=!1,this.params=[],this}return e.prototype.setKey=function(e){return this.key=e,this},e.prototype.using=function(e){return this.dataManager=e,this},e.prototype.execute=function(e,t,i,r){return(e=e||this.dataManager)?e.executeQuery(this,t,i,r):K.throwError('Query - execute() : dataManager needs to be is set using "using" function or should be passed as argument')},e.prototype.executeLocal=function(e){return(e=e||this.dataManager)?e.executeLocal(this):K.throwError('Query - executeLocal() : dataManager needs to be is set using "using" function or should be passed as argument')},e.prototype.clone=function(){var t=new e;return t.queries=this.queries.slice(0),t.key=this.key,t.isChild=this.isChild,t.dataManager=this.dataManager,t.fromTable=this.fromTable,t.params=this.params.slice(0),t.expands=this.expands.slice(0),t.sortedColumns=this.sortedColumns.slice(0),t.groupedColumns=this.groupedColumns.slice(0),t.subQuerySelector=this.subQuerySelector,t.subQuery=this.subQuery,t.fKey=this.fKey,t.isCountRequired=this.isCountRequired,t.distincts=this.distincts.slice(0),t},e.prototype.from=function(e){return this.fromTable=e,this},e.prototype.addParams=function(e,t){return this.params.push("function"==typeof t?{key:e,fn:t}:{key:e,value:t}),this},e.prototype.distinct=function(e){return this.distincts="string"==typeof e?[].slice.call([e],0):e.slice(0),this},e.prototype.expand=function(e){return this.expands="string"==typeof e?[].slice.call([e],0):e.slice(0),this},e.prototype.where=function(e,t,i,r,n){t=t?t.toLowerCase():null;var s=null;return"string"==typeof e?s=new _(e,t,i,r,n):e instanceof _&&(s=e),this.queries.push({fn:"onWhere",e:s}),this},e.prototype.search=function(e,t,i,r,n){return"string"==typeof t&&(t=[t]),this.queries.push({fn:"onSearch",e:{fieldNames:t,operator:i=i||"contains",searchKey:e,ignoreCase:r,ignoreAccent:n,comparer:K.fnOperators[i]}}),this},e.prototype.sortBy=function(t,i,r){var n,s,o="ascending";if("string"==typeof t&&K.endsWith(t.toLowerCase()," desc")&&(t=t.replace(/ desc$/i,""),i="descending"),i&&"string"!=typeof i||(o=i?i.toLowerCase():"ascending",i=K.fnSort(i)),r){n=e.filterQueries(this.queries,"onSortBy");for(var a=0;a<n.length;a++)if("string"==typeof(s=n[a].e.fieldName)){if(s===t)return this}else if(s instanceof Array)for(var u=0;u<s.length;u++)if(s[u]===t||t.toLowerCase()===s[u]+" desc")return this}return this.queries.push({fn:"onSortBy",e:{fieldName:t,comparer:i,direction:o}}),this},e.prototype.sortByDesc=function(e){return this.sortBy(e,"descending")},e.prototype.group=function(e,t,i){return this.sortBy(e,null,!0),this.queries.push({fn:"onGroup",e:{fieldName:e,comparer:t||null,format:i||null}}),this},e.prototype.page=function(e,t){return this.queries.push({fn:"onPage",e:{pageIndex:e,pageSize:t}}),this},e.prototype.range=function(e,t){return this.queries.push({fn:"onRange",e:{start:e,end:t}}),this},e.prototype.take=function(e){return this.queries.push({fn:"onTake",e:{nos:e}}),this},e.prototype.skip=function(e){return this.queries.push({fn:"onSkip",e:{nos:e}}),this},e.prototype.select=function(e){return"string"==typeof e&&(e=[].slice.call([e],0)),this.queries.push({fn:"onSelect",e:{fieldNames:e}}),this},e.prototype.hierarchy=function(e,t){return this.subQuerySelector=t,this.subQuery=e,this},e.prototype.foreignKey=function(e){return this.fKey=e,this},e.prototype.requiresCount=function(){return this.isCountRequired=!0,this},e.prototype.aggregate=function(e,t){return this.queries.push({fn:"onAggregates",e:{field:t,type:e}}),this},e.filterQueries=function(e,t){return e.filter(function(e){return e.fn===t})},e.filterQueryLists=function(e,t){for(var i=e.filter(function(e){return-1!==t.indexOf(e.fn)}),r={},n=0;n<i.length;n++)r[i[n].fn]||(r[i[n].fn]=i[n].e);return r},e}(),_=function(){function e(t,i,r,n,s){return void 0===n&&(n=!1),this.ignoreAccent=!1,this.isComplex=!1,"string"==typeof t?(this.field=t,this.operator=i.toLowerCase(),this.value=r,this.ignoreCase=n,this.ignoreAccent=s,this.isComplex=!1,this.comparer=K.fnOperators.processOperator(this.operator)):(t instanceof e&&r instanceof e||r instanceof Array)&&(this.isComplex=!0,this.condition=i.toLowerCase(),this.predicates=[t],r instanceof Array?[].push.apply(this.predicates,r):this.predicates.push(r)),this}return e.and=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return e.combinePredicates([].slice.call(t,0),"and")},e.prototype.and=function(t,i,r,n,s){return e.combine(this,t,i,r,"and",n,s)},e.or=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return e.combinePredicates([].slice.call(t,0),"or")},e.prototype.or=function(t,i,r,n,s){return e.combine(this,t,i,r,"or",n,s)},e.fromJson=function(e){if(e instanceof Array){for(var t=[],i=0,r=e.length;i<r;i++)t.push(this.fromJSONData(e[i]));return t}return this.fromJSONData(e)},e.prototype.validate=function(e){var t,i,r=this.predicates?this.predicates:[];if(!this.isComplex&&this.comparer)return this.comparer.call(this,K.getObject(this.field,e),this.value,this.ignoreCase,this.ignoreAccent);t="and"===this.condition;for(var n=0;n<r.length;n++)if(i=r[n].validate(e),t){if(!i)return!1}else if(i)return!0;return t},e.prototype.toJson=function(){var e,t;if(this.isComplex){e=[],t=this.predicates;for(var i=0;i<t.length;i++)e.push(t[i].toJson())}return{isComplex:this.isComplex,field:this.field,operator:this.operator,value:this.value,ignoreCase:this.ignoreCase,ignoreAccent:this.ignoreAccent,condition:this.condition,predicates:e}},e.combinePredicates=function(t,i){if(1===t.length){if(!(t[0]instanceof Array))return t[0];t=t[0]}return new e(t[0],i,t.slice(1))},e.combine=function(t,i,r,n,s,o,a){return i instanceof e?e[s](t,i):"string"==typeof i?e[s](t,new e(i,r,n,o,a)):K.throwError("Predicate - "+s+" : invalid arguments")},e.fromJSONData=function(t){for(var i=t.predicates||[],r=i.length,n=[],s=0;s<r;s++)n.push(this.fromJSONData(i[s]));return t.isComplex?new e(n[0],t.condition,n.slice(1)):new e(t.field,t.operator,t.value,t.ignoreCase,t.ignoreAccent)},e}(),$={li:"e-list-item",ul:"e-list-parent e-ul",group:"e-list-group-item",icon:"e-list-icon",text:"e-list-text",check:"e-list-check",checked:"e-checked",selected:"e-selected",expanded:"e-expanded",textContent:"e-text-content",hasChild:"e-has-child",level:"e-level",url:"e-list-url",collapsible:"e-icon-collapsible",disabled:"e-disabled",image:"e-list-img",iconWrapper:"e-icon-wrapper"};function Z(e,t){var i={};if(Object(h.h)(e)||"string"==typeof e||"number"==typeof e||!Object(h.h)(e.isHeader))return e;for(var r=0,n=Object.keys(t);r<n.length;r++){var s=t[n[r]],o=Object(h.h)(s)||"string"!=typeof s?void 0:Object(h.g)(s,e);Object(h.h)(o)||(i[s]=o)}return i}!function(e){e.defaultMappedFields={id:"id",text:"text",url:"url",value:"value",isChecked:"isChecked",enabled:"enabled",expanded:"expanded",selected:"selected",iconCss:"iconCss",child:"child",isVisible:"isVisible",hasChildren:"hasChildren",tooltip:"tooltip",htmlAttributes:"htmlAttributes",urlAttributes:"urlAttributes",imageAttributes:"imageAttributes",imageUrl:"imageUrl",groupBy:null};var t={level:1,listRole:"presentation",itemRole:"presentation",groupItemRole:"group",itemText:"list-item",wrapperRole:"presentation"},i={showCheckBox:!1,showIcon:!1,expandCollapse:!1,fields:e.defaultMappedFields,ariaAttributes:t,listClass:"",itemClass:"",processSubChild:!1,sortOrder:"None",template:null,groupTemplate:null,headerTemplate:null,expandIconClass:"e-icon-collapsible",moduleName:"list",expandIconPosition:"Right"};function r(e,t,i,r){return j(e,n(e,t,i,r),null,r)}function n(e,t,r,n){var s=[],o=Object(h.d)({},i,n);$=v(o.moduleName);for(var a=g(),u=0;u<t.length;u++)if(!Object(h.h)(t[u])){var l;o.itemCreating&&"function"==typeof o.itemCreating&&o.itemCreating({dataSource:t,curData:t[u],text:t[u],options:o}),l=r?y(e,t[u],void 0,null,null,[],null,a,u,n):O(e,t[u],void 0,null,null,n),o.itemCreated&&"function"==typeof o.itemCreated&&o.itemCreated({dataSource:t,curData:t[u],text:t[u],item:l,options:o}),s.push(l)}return s}function s(r,n,s,o,a){var u=Object(h.d)({},i,s);$=v(u.moduleName);var l,f=Object(h.d)({},e.defaultMappedFields,u.fields),b=Object(h.d)({},t,u.ariaAttributes);o&&(b.level=o);var j,C=[];n&&n.length&&!Object(h.h)(p(n).item)&&!p(n).item.hasOwnProperty(f.id)&&(l=g());for(var w=0;w<n.length;w++){var S=Z(n[w],f);if(!Object(h.h)(n[w])){u.itemCreating&&"function"==typeof u.itemCreating&&u.itemCreating({dataSource:n,curData:n[w],text:S[f.text],options:u,fields:f});var T=n[w];u.itemCreating&&"function"==typeof u.itemCreating&&(S=Z(n[w],f)),S.hasOwnProperty(f.id)&&!Object(h.h)(S[f.id])&&(l=S.id);var A=[];if(u.showCheckBox&&A.push(r("input",{className:$.check,attrs:{type:"checkbox"}})),!0===a)u.showIcon&&S.hasOwnProperty(f.iconCss)&&!Object(h.h)(S[f.iconCss])&&A.push(r("span",{className:$.icon+" "+S[f.iconCss]})),j=y(r,T,S,f,u.itemClass,A,!(!T.hasOwnProperty("isHeader")||!T.isHeader),l,w,s);else{if((j=O(r,T,S,f,u.itemClass,s)).classList.add($.level+"-"+b.level),j.setAttribute("aria-level",b.level.toString()),S.hasOwnProperty(f.tooltip)&&j.setAttribute("title",S[f.tooltip]),S.hasOwnProperty(f.htmlAttributes)&&S[f.htmlAttributes]&&d(j,S[f.htmlAttributes]),S.hasOwnProperty(f.enabled)&&!1===S[f.enabled]&&j.classList.add($.disabled),S.hasOwnProperty(f.isVisible)&&!1===S[f.isVisible]&&(j.style.display="none"),S.hasOwnProperty(f.imageUrl)&&!Object(h.h)(S[f.imageUrl])){var x={src:S[f.imageUrl]};Object(h.j)(x,S[f.imageAttributes]),Object(c.i)([r("img",{className:$.image,attrs:x})],j.firstElementChild)}u.showIcon&&S.hasOwnProperty(f.iconCss)&&!Object(h.h)(S[f.iconCss])&&!u.template&&Object(c.i)([r("div",{className:$.icon+" "+S[f.iconCss]})],j.firstElementChild),A.length&&Object(c.i)(A,j.firstElementChild),m(r,S,f,0,u,j,b.level)}u.itemCreated&&"function"==typeof u.itemCreated&&u.itemCreated({dataSource:n,curData:n[w],text:S[f.text],item:j,options:u,fields:f}),C.push(j)}}return C}function o(e,t,r,n,o){var a=Object(h.d)({},i,r);return j(e,s(e,t,r,n,o),a.listClass,r)}function a(e,t){if(t&&e)return Array.prototype.slice.call(t).indexOf(e)}function u(e,t,i){if(void 0===i&&(i=new Y),"Ascending"===e)i.sortBy(t,"ascending",!0);else if("Descending"===e)i.sortBy(t,"descending",!0);else for(var r=0;r<i.queries.length;r++)"onSortBy"===i.queries[r].fn&&i.queries.splice(r,1);return i}function l(e,t){return new z(e).executeLocal(t)}function p(e){for(var t=0;t<e.length;t++)if(!Object(h.h)(e[t]))return{typeof:typeof e[t],item:e[t]};return{typeof:null,item:null}}function d(e,t){var i={};Object(h.j)(i,t),i.class&&(Object(c.a)([e],i.class.split(" ")),delete i.class),Object(c.c)(e,i)}function f(e){for(var t={},i=e.attributes,r=0;r<i.length;r++)t[i[r].nodeName]=i[r].nodeValue;return t}function g(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function m(e,t,i,r,n,s,a){var u=t[i.child]||[],l=t[i.hasChildren];if(u.length&&(l=!0,s.classList.add($.hasChild),n.processSubChild)){var p=o(e,u,n,++a);s.appendChild(p)}n.expandCollapse&&l&&!n.template&&(s.firstElementChild.classList.add($.iconWrapper),("Left"===n.expandIconPosition?c.i:c.b)([e("div",{className:"e-icons "+n.expandIconClass})],s.querySelector("."+$.textContent)))}function y(e,r,n,s,o,a,u,l,p,f){var g,m,y=Object(h.d)({},i,f),v=Object(h.d)({},t,y.ariaAttributes),O=r,j=r;"string"!=typeof r&&"number"!=typeof r&&"boolean"!=typeof r&&(g=r,O="boolean"==typeof n[s.text]||"number"==typeof n[s.text]?n[s.text]:n[s.text]||"",j=n[s.value]),m=Object(h.h)(g)||Object(h.h)(n[s.id])||""===n[s.id]?l+"-"+p:l;var C=e("li",{className:(!0===u?$.group:$.li)+" "+(Object(h.h)(o)?"":o),id:m,attrs:""!==v.groupItemRole&&""!==v.itemRole?{role:!0===u?v.groupItemRole:v.itemRole}:{}});return g&&n.hasOwnProperty(s.enabled)&&"false"===n[s.enabled].toString()&&C.classList.add($.disabled),u?C.innerText=O:(Object(h.h)(j)||C.setAttribute("data-value",j),C.setAttribute("role","option"),g&&n.hasOwnProperty(s.htmlAttributes)&&n[s.htmlAttributes]&&d(C,n[s.htmlAttributes]),a.length&&Object(c.b)(a,C),g&&n.hasOwnProperty(s.url)&&n[s.url]?C.appendChild(b(e,g,s,O)):C.appendChild(document.createTextNode(O))),C}function v(e){return{li:"e-"+e+"-item",ul:"e-"+e+"-parent e-ul",group:"e-"+e+"-group-item",icon:"e-"+e+"-icon",text:"e-"+e+"-text",check:"e-"+e+"-check",checked:"e-checked",selected:"e-selected",expanded:"e-expanded",textContent:"e-text-content",hasChild:"e-has-child",level:"e-level",url:"e-"+e+"-url",collapsible:"e-icon-collapsible",disabled:"e-disabled",image:"e-"+e+"-img",iconWrapper:"e-icon-wrapper"}}function b(e,t,i,r){var n=Z(t,i),s={href:n[i.url]};n.hasOwnProperty(i.urlAttributes)&&n[i.urlAttributes]&&Object(h.j)(s,n[i.urlAttributes]);var o=e("a",{className:$.text+" "+$.url,innerHTML:r});return d(o,s),o}function O(e,r,n,s,o,a){var u,l,p,d=Object(h.d)({},i,a),f=Object(h.d)({},t,d.ariaAttributes),m=r;"string"!=typeof r&&"number"!=typeof r&&(p=r,m=n[s.text]||"",u=n[s.id],l=!(!r.hasOwnProperty("isHeader")||!r.isHeader));var y=e("li",{className:(!0===l?$.group:$.li)+" "+(Object(h.h)(o)?"":o),attrs:""!==f.groupItemRole&&""!==f.itemRole?{role:!0===l?f.groupItemRole:f.itemRole}:{}});if(Object(h.h)(u)?y.setAttribute("data-uid",g()):y.setAttribute("data-uid",u),l&&a&&a.groupTemplate){var v=q(a.groupTemplate);Object(c.b)(v(r),y)}else if(!l&&a&&a.template)v=q(a.template),Object(c.b)(v(r),y);else{var O=e("div",{className:$.textContent,attrs:""!==f.wrapperRole?{role:f.wrapperRole}:{}});p&&n.hasOwnProperty(s.url)&&n[s.url]?O.appendChild(b(e,p,s,m)):O.appendChild(e("span",{className:$.text,innerHTML:m,attrs:""!==f.itemText?{role:f.itemText}:{}})),y.appendChild(O)}return y}function j(e,r,n,s){var o=Object(h.d)({},i,s),a=Object(h.d)({},t,o.ariaAttributes),u=e("ul",{className:($=v(o.moduleName)).ul+" "+(Object(h.h)(n)?"":n),attrs:""!==a.listRole?{role:a.listRole}:{}});return Object(c.b)(r,u),u}e.createList=function(e,n,s,a){var u=Object(h.d)({},i,s),l=Object(h.d)({},t,u.ariaAttributes),c=p(n).typeof;return"string"===c||"number"===c?r(e,n,a,s):o(e,n,s,l.level,a)},e.createListFromArray=r,e.createListItemFromArray=n,e.createListItemFromJson=s,e.createListFromJson=o,e.getSiblingLI=function(e,t,r){if($=v(i.moduleName),e&&e.length){var n,s,o=Array.prototype.slice.call(e);for(n=o[(s=t?a(t,o):!0===r?o.length:-1)+(!0===r?-1:1)];n&&(!Object(c.h)(n)||n.classList.contains($.disabled));)n=o[s+=!0===r?-1:1];return n}},e.indexOf=a,e.groupDataSource=function(t,i,r){void 0===r&&(r="None");var n=Object(h.d)({},e.defaultMappedFields,i),s=(new Y).group(n.groupBy),o=l(t,s=u(r,"key",s));t=[];for(var a=0;a<o.length;a++){var c=o[a].items,p={};p[n.text]=o[a].key,p.isHeader=!0,p.id="group-list-item-"+(o[a].key?o[a].key.toString().trim():"undefined"),p.items=c,t.push(p);for(var d=0;d<c.length;d++)t.push(c[d])}return t},e.addSorting=u,e.getDataSource=l,e.createJsonFromElement=function t(r,n){var s=Object(h.d)({},i,n),o=Object(h.d)({},e.defaultMappedFields,s.fields),a=r.cloneNode(!0),u=[];a.classList.add("json-parent");var l=a.querySelectorAll(".json-parent>li");a.classList.remove("json-parent");for(var c=0;c<l.length;c++){for(var p=l[c],d=p.querySelector("a"),m=p.querySelector("ul"),y={},v=d?d.childNodes:p.childNodes,b=Object.keys(v),O=0;O<v.length;O++)v[Number(b[O])].hasChildNodes()||(y[o.text]=v[Number(b[O])].textContent);y[o.id]=g();var j=f(p);Object.keys(j).length&&(y[o.htmlAttributes]=j),d&&(j=f(d),Object.keys(j).length&&(y[o.urlAttributes]=j)),m&&(y[o.child]=t(m,n)),u.push(y)}return u},e.renderContentTemplate=function(t,r,n,s,o){for(var a=t("ul",{className:($=v(i.moduleName)).ul,attrs:{role:"presentation"}}),u=Object(h.d)({},i,o),l=Object(h.d)({},e.defaultMappedFields,s),p=q(r),d=[],f=g(),m=0;m<n.length;m++){var y=Z(n[m],l),b=n[m],O=b.isHeader,j=y[l.value];u.itemCreating&&"function"==typeof u.itemCreating&&u.itemCreating({dataSource:n,curData:b,text:j,options:u,fields:l}),u.itemCreating&&"function"==typeof u.itemCreating&&(j=(y=Z(n[m],l))[l.value]);var C=t("li",{id:f+"-"+m,className:O?$.group:$.li,attrs:{role:"presentation"}});O?C.innerText=y[l.text]:(Object(c.b)(p(b),C),C.setAttribute("data-value",j),C.setAttribute("role","option")),u.itemCreated&&"function"==typeof u.itemCreated&&u.itemCreated({dataSource:n,curData:b,text:j,item:C,options:u,fields:l}),d.push(C)}return Object(c.b)(d,a),a},e.renderGroupTemplate=function(t,i,r,n){for(var s=q(t),o=Object(h.d)({},e.defaultMappedFields,r).groupBy,a=0,u=n;a<u.length;a++){var l=u[a],p={};p[o]=l.textContent,l.innerHTML="",Object(c.b)(s(p),l)}return n},e.generateId=g,e.generateUL=j,e.generateIcon=function(e,t,r,n){var s=Object(h.d)({},i,n);return $=v(s.moduleName),("Left"===s.expandIconPosition?c.i:c.b)([e("div",{className:"e-icons "+s.expandIconClass+" "+(Object(h.h)(r)?"":r)})],t.querySelector("."+$.textContent)),t}}(I||(I={})),(P||(P={})).createListItems=function(e,t,i,r,n,s){var o,a,u=6e4*s,l=[],c=[];for(o=+t.setMilliseconds(0),a=+i.setMilliseconds(0);a>=o;)c.push(o),l.push(r.formatDate(new Date(o),{format:n,type:"time"})),o+=u;return{collection:c,list:I.createList(e,l,null,!0)}};var X=(new Date).getDate(),ee=(new Date).getMonth(),te=(new Date).getFullYear(),ie=(new Date).getHours(),re=(new Date).getMinutes(),ne=(new Date).getSeconds(),se=(new Date).getMilliseconds(),oe="e-active",ae=$.li,ue=function(e){function t(t,i){var r=e.call(this,t,i)||this;return r.valueWithMinutes=null,r.previousDateTime=null,r}return Object(n.c)(t,e),t.prototype.focusHandler=function(){Object(c.a)([this.inputWrapper.container],"e-input-focus")},t.prototype.focusIn=function(){e.prototype.focusIn.call(this)},t.prototype.focusOut=function(){document.activeElement===this.inputElement&&(this.inputElement.blur(),Object(c.k)([this.inputWrapper.container],["e-input-focus"]))},t.prototype.blurHandler=function(e){if(this.isTimePopupOpen()&&this.isPreventBlur)this.inputElement.focus();else{Object(c.k)([this.inputWrapper.container],"e-input-focus");var t={model:this};this.isTimePopupOpen()&&this.hide(e),this.trigger("blur",t)}},t.prototype.destroy=function(){this.popupObject&&this.popupObject.element.classList.contains("e-popup")&&(this.dateTimeWrapper=void 0,this.liCollections=this.timeCollections=[],Object(h.h)(this.rippleFn)||this.rippleFn()),this.inputElement&&(g.a.removeAttributes({"aria-live":"assertive","aria-atomic":"true","aria-invalid":"false","aria-haspopup":"true","aria-activedescendant":"null",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off"},this.inputElement),this.inputElement.removeAttribute("aria-placeholder")),this.isCalendar()&&(this.popupWrapper&&Object(c.g)(this.popupWrapper),this.popupObject=this.popupWrapper=null,this.keyboardHandler.destroy()),this.unBindInputEvents(),e.prototype.destroy.call(this)},t.prototype.render=function(){this.timekeyConfigure={enter:"enter",escape:"escape",end:"end",tab:"tab",home:"home",down:"downarrow",up:"uparrow",left:"leftarrow",right:"rightarrow",open:"alt+downarrow",close:"alt+uparrow"},this.valueWithMinutes=null,this.previousDateTime=null,this.isPreventBlur=!1,this.cloneElement=this.element.cloneNode(!0),this.dateTimeFormat=this.cldrDateTimeFormat(),this.initValue=this.value,this.checkAttributes(),this.l10n=new p.a("datetimepicker",{placeholder:this.placeholder},this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),e.prototype.render.call(this),this.createInputElement(),this.bindInputEvents(),this.setValue(),this.previousDateTime=this.value&&new Date(+this.value)},t.prototype.setValue=function(){if(this.initValue=this.validateMinMaxRange(this.value),!this.strictMode&&this.isDateObject(this.initValue)){var t=this.validateMinMaxRange(this.initValue);g.a.setValue(this.getFormattedValue(t),this.inputElement,this.floatLabelType,this.showClearButton),this.setProperties({value:t},!0)}else Object(h.h)(this.value)&&(this.initValue=null,this.setProperties({value:null},!0));this.valueWithMinutes=this.value,e.prototype.updateInput.call(this)},t.prototype.validateMinMaxRange=function(e){var t=e;return this.isDateObject(e)?t=this.validateValue(e):+this.min>+this.max&&this.disablePopupButton(!0),this.checkValidState(t),t},t.prototype.checkValidState=function(e){this.isValidState=!0,this.strictMode||(+e>+this.max||+e<+this.min)&&(this.isValidState=!1),this.checkErrorState()},t.prototype.checkErrorState=function(){this.isValidState?Object(c.k)([this.inputWrapper.container],"e-error"):Object(c.a)([this.inputWrapper.container],"e-error"),Object(c.c)(this.inputElement,{"aria-invalid":this.isValidState?"false":"true"})},t.prototype.validateValue=function(e){var t=e;return this.strictMode?+this.min>+this.max?(this.disablePopupButton(!0),t=this.max):+e<+this.min?t=this.min:+e>+this.max&&(t=this.max):+this.min>+this.max&&(this.disablePopupButton(!0),t=e),t},t.prototype.disablePopupButton=function(e){e?(Object(c.a)([this.inputWrapper.buttons[0],this.timeIcon],"e-disabled"),this.hide()):Object(c.k)([this.inputWrapper.buttons[0],this.timeIcon],"e-disabled")},t.prototype.getFormattedValue=function(e){if(Object(h.h)(e))return null;var t={format:this.cldrDateTimeFormat(),type:"dateTime",skeleton:"yMd"};return this.globalize.formatDate(e,t)},t.prototype.isDateObject=function(e){return!Object(h.h)(e)&&!isNaN(+e)},t.prototype.createInputElement=function(){Object(c.k)([this.inputElement],"e-datepicker"),Object(c.k)([this.inputWrapper.container],"e-date-wrapper"),Object(c.a)([this.inputWrapper.container],"e-datetime-wrapper"),Object(c.a)([this.inputElement],"e-datetimepicker"),this.renderTimeIcon()},t.prototype.renderTimeIcon=function(){this.timeIcon=g.a.appendSpan("e-input-group-icon e-time-icon e-icons",this.inputWrapper.container)},t.prototype.bindInputEvents=function(){s.a.add(this.timeIcon,"mousedown touchstart",this.timeHandler,this),s.a.add(this.inputWrapper.buttons[0],"mousedown touchstart",this.dateHandler,this),s.a.add(this.inputElement,"blur",this.blurHandler,this),s.a.add(this.inputElement,"focus",this.focusHandler,this),this.keyboardHandler=new d.a(this.inputElement,{eventName:"keydown",keyAction:this.inputKeyAction.bind(this),keyConfigs:this.keyConfigs})},t.prototype.unBindInputEvents=function(){s.a.remove(this.timeIcon,"mousedown touchstart",this.timeHandler),s.a.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.dateHandler),this.inputElement&&(s.a.remove(this.inputElement,"blur",this.blurHandler),s.a.remove(this.inputElement,"focus",this.focusHandler)),this.keyboardHandler&&this.keyboardHandler.destroy()},t.prototype.cldrTimeFormat=function(){return this.isNullOrEmpty(this.timeFormat)?"en"===this.locale||"en-US"===this.locale?Object(h.g)("timeFormats.short",Object(o.e)()):this.getCultureTimeObject(o.b,""+this.locale):this.timeFormat},t.prototype.cldrDateTimeFormat=function(){var e=new o.a(this.locale).getDatePattern({skeleton:"yMd"});return this.isNullOrEmpty(this.format)?e+" "+this.getCldrFormat("time"):this.format},t.prototype.getCldrFormat=function(e){return"en"===this.locale||"en-US"===this.locale?Object(h.g)("timeFormats.short",Object(o.e)()):this.getCultureTimeObject(o.b,""+this.locale)},t.prototype.isNullOrEmpty=function(e){return!!(Object(h.h)(e)||"string"==typeof e&&""===e.trim())},t.prototype.getCultureTimeObject=function(e,t){return Object(h.g)("main."+this.locale+".dates.calendars.gregorian.timeFormats.short",e)},t.prototype.timeHandler=function(t){a.a.isDevice&&this.element.setAttribute("readonly","readonly"),t.currentTarget===this.timeIcon&&t.preventDefault(),this.enabled&&!this.readonly&&(this.isDatePopupOpen()&&e.prototype.hide.call(this,t),this.isTimePopupOpen()?this.closePopup(t):(this.inputElement.focus(),this.popupCreation("time",t),Object(c.a)([this.inputWrapper.container],["e-input-focus"])))},t.prototype.dateHandler=function(e){e.currentTarget===this.inputWrapper.buttons[0]&&e.preventDefault(),this.enabled&&!this.readonly&&(this.isTimePopupOpen()&&this.closePopup(e),Object(h.h)(this.popupWrapper)||this.popupCreation("date",e))},t.prototype.show=function(t,i){this.enabled&&this.readonly||!this.enabled||("time"!==t||this.dateTimeWrapper?this.popupObj||(this.isTimePopupOpen()&&this.hide(i),e.prototype.show.call(this),this.popupCreation("date",i)):(this.isDatePopupOpen()&&this.hide(i),this.popupCreation("time",i)))},t.prototype.toggle=function(t){this.isDatePopupOpen()?(e.prototype.hide.call(this,t),this.show("time",null)):this.isTimePopupOpen()?(this.hide(t),e.prototype.show.call(this,null,t),this.popupCreation("date",null)):this.show(null,t)},t.prototype.listCreation=function(){var e=Object(h.h)(this.value)?""!==this.inputElement.value?this.globalize.parseDate(this.inputElement.value,{format:this.cldrDateTimeFormat(),type:"datetime"}):new Date:this.value;this.valueWithMinutes=e,this.listWrapper=Object(c.f)("div",{className:"e-content",attrs:{tabindex:"0"}});var t=this.startTime(e),i=this.endTime(e),r=P.createListItems(this.createElement,t,i,this.globalize,this.cldrTimeFormat(),this.step);this.timeCollections=r.collection,this.listTag=r.list,Object(c.c)(this.listTag,{role:"listbox","aria-hidden":"false",id:this.element.id+"_options"}),Object(c.b)([r.list],this.listWrapper),this.wireTimeListEvents();var n={duration:300,selector:"."+ae};this.rippleFn=Object(l.b)(this.listWrapper,n),this.liCollections=this.listWrapper.querySelectorAll("."+ae)},t.prototype.popupCreation=function(e,t){a.a.isDevice&&this.element.setAttribute("readonly","readonly"),"date"===e?!this.readonly&&this.popupWrapper&&(Object(c.a)([this.popupWrapper],"e-datetimepopup-wrapper"),Object(c.c)(this.popupWrapper,{id:this.element.id+"_datepopup"})):this.readonly||(this.dateTimeWrapper=Object(c.f)("div",{className:"e-datetimepicker e-popup",attrs:{id:this.element.id+"_timepopup",style:"visibility:hidden ; display:block"}}),Object(h.h)(this.cssClass)||this.dateTimeWrapper.classList.add(this.cssClass),!Object(h.h)(this.step)&&this.step>0&&(this.listCreation(),Object(c.b)([this.listWrapper],this.dateTimeWrapper)),document.body.appendChild(this.dateTimeWrapper),this.addTimeSelection(),this.renderPopup(),this.setTimeScrollPosition(),this.openPopup(t),this.popupObject.refreshPosition(this.inputElement))},t.prototype.openPopup=function(e){this.preventArgs={cancel:!1,popup:this.popupObject,event:e||null},this.trigger("open",this.preventArgs),this.preventArgs.cancel||this.readonly||(this.popupObject.show(new l.a({name:"FadeIn",duration:100}),1e3===this.zIndex?this.element:null),Object(c.a)([this.inputWrapper.container],["e-icon-anim"]),Object(c.c)(this.inputElement,{"aria-expanded":"true"}),s.a.add(document,"mousedown touchstart",this.documentClickHandler,this))},t.prototype.documentClickHandler=function(e){e.preventDefault();var t=e.target;Object(c.e)(t,"#"+(this.popupObject&&this.popupObject.element.id))||t===this.inputElement||t===this.timeIcon||t===this.inputWrapper.container?t!==this.inputElement&&(a.a.isDevice||(this.isPreventBlur=(a.a.isIE||"edge"===a.a.info.name)&&document.activeElement===this.inputElement,e.preventDefault())):this.isTimePopupOpen()&&this.hide(e)},t.prototype.isTimePopupOpen=function(){return!(!this.dateTimeWrapper||!this.dateTimeWrapper.classList.contains("e-datetimepicker"))},t.prototype.isDatePopupOpen=function(){return!(!this.popupWrapper||!this.popupWrapper.classList.contains("e-datetimepopup-wrapper"))},t.prototype.renderPopup=function(){var e=this;this.containerStyle=this.inputWrapper.container.getBoundingClientRect(),a.a.isDevice&&(this.timeModal=Object(c.f)("div"),this.timeModal.className="e-datetimepicker e-time-modal",document.body.className+=" e-time-overflow",this.timeModal.style.display="block",document.body.appendChild(this.timeModal)),this.popupObject=new f.a(this.dateTimeWrapper,{width:this.setPopupWidth(),zIndex:this.zIndex,targetType:"container",collision:a.a.isDevice?{X:"fit",Y:"fit"}:{X:"flip",Y:"flip"},relateTo:a.a.isDevice?document.body:this.inputWrapper.container,position:a.a.isDevice?{X:"center",Y:"center"}:{X:"left",Y:"bottom"},enableRtl:this.enableRtl,offsetY:4,open:function(){e.dateTimeWrapper.style.visibility="visible",Object(c.a)([e.timeIcon],oe),a.a.isDevice||(e.inputEvent=new d.a(e.inputWrapper.container,{keyAction:e.TimeKeyActionHandle.bind(e),keyConfigs:e.timekeyConfigure,eventName:"keydown"}))},close:function(){Object(c.k)([e.timeIcon],oe),e.unWireTimeListEvents(),e.inputElement.setAttribute("aria-activedescendant","null"),Object(c.j)(e.popupObject.element),e.popupObject.destroy(),e.dateTimeWrapper.innerHTML="",e.listWrapper=e.dateTimeWrapper=void 0,e.inputEvent&&e.inputEvent.destroy()}}),this.popupObject.element.style.maxHeight="250px"},t.prototype.setDimension=function(e){return"number"==typeof e?Object(h.e)(e):"string"==typeof e?e:"100%"},t.prototype.setPopupWidth=function(){var e=this.setDimension(this.width);return e.indexOf("%")>-1&&(e=(this.containerStyle.width*parseFloat(e)/100).toString()+"px"),e},t.prototype.wireTimeListEvents=function(){s.a.add(this.listWrapper,"click",this.onMouseClick,this),a.a.isDevice||(s.a.add(this.listWrapper,"mouseover",this.onMouseOver,this),s.a.add(this.listWrapper,"mouseout",this.onMouseLeave,this))},t.prototype.unWireTimeListEvents=function(){this.listWrapper&&(s.a.remove(this.listWrapper,"click",this.onMouseClick),s.a.remove(document,"mousedown touchstart",this.documentClickHandler),a.a.isDevice||(s.a.add(this.listWrapper,"mouseover",this.onMouseOver,this),s.a.add(this.listWrapper,"mouseout",this.onMouseLeave,this)))},t.prototype.onMouseOver=function(e){var t=Object(c.e)(e.target,"."+ae);this.setTimeHover(t,"e-hover")},t.prototype.onMouseLeave=function(){this.removeTimeHover("e-hover")},t.prototype.setTimeHover=function(e,t){this.enabled&&this.isValidLI(e)&&!e.classList.contains(t)&&(this.removeTimeHover(t),Object(c.a)([e],t))},t.prototype.getPopupHeight=function(){var e=parseInt("250px",10),t=this.dateTimeWrapper.getBoundingClientRect().height;return t>e?e:t},t.prototype.changeEvent=function(t){+this.previousDateTime!=+this.value&&(e.prototype.changeEvent.call(this,t),this.inputElement.focus(),this.valueWithMinutes=this.value,this.setInputValue("date"),this.previousDateTime=this.value&&new Date(+this.value))},t.prototype.updateValue=function(e){this.setInputValue("time"),+this.previousDateTime!=+this.value&&(this.changedArgs={value:this.value,event:e||null,isInteracted:!Object(h.h)(e),element:this.element},this.addTimeSelection(),this.trigger("change",this.changedArgs),this.previousDateTime=this.value)},t.prototype.setTimeScrollPosition=function(){var e,t=this.getPopupHeight();if(e=this.selectedElement,!Object(h.h)(e)){var i=e.nextElementSibling,r=i?i.offsetTop:e.offsetTop,n=e.getBoundingClientRect().height;this.dateTimeWrapper.scrollTop=r+e.offsetTop>t?i?r-(t/2+n/2):r:0}},t.prototype.setInputValue=function(e){if("date"===e)this.inputElement.value=this.previousElementValue=this.getFormattedValue(this.getFullDateTime()),this.setProperties({value:this.getFullDateTime()},!0);else{var t=this.getFormattedValue(new Date(this.timeCollections[this.activeIndex]));g.a.setValue(t,this.inputElement,this.floatLabelType,this.showClearButton),this.previousElementValue=this.inputElement.value,this.setProperties({value:new Date(this.timeCollections[this.activeIndex])},!0)}},t.prototype.getFullDateTime=function(){var e;return e=this.isDateObject(this.valueWithMinutes)?this.combineDateTime(this.valueWithMinutes):this.previousDate,this.validateMinMaxRange(e)},t.prototype.combineDateTime=function(e){if(this.isDateObject(e)){var t=this.previousDate.getDate(),i=this.previousDate.getMonth(),r=this.previousDate.getFullYear(),n=e.getHours(),s=e.getMinutes(),o=e.getSeconds();return new Date(r,i,t,n,s,o)}return this.previousDate},t.prototype.onMouseClick=function(e){var t=e.target,i=this.selectedElement=Object(c.e)(t,"."+ae);i&&i.classList.contains(ae)&&(this.timeValue=i.getAttribute("data-value"),this.hide(e)),this.setSelection(i,e)},t.prototype.setSelection=function(e,t){if(this.isValidLI(e)&&!e.classList.contains(oe)){e.getAttribute("data-value"),this.selectedElement=e;var i=Array.prototype.slice.call(this.liCollections).indexOf(e);this.activeIndex=i,this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),Object(c.a)([this.selectedElement],oe),this.selectedElement.setAttribute("aria-selected","true"),this.updateValue(t)}},t.prototype.setTimeActiveClass=function(){var e=Object(h.h)(this.dateTimeWrapper)?this.listWrapper:this.dateTimeWrapper;if(!Object(h.h)(e)){var t=e.querySelectorAll("."+ae);if(t.length)for(var i=0;i<t.length;i++)if(this.timeCollections[i]===+this.valueWithMinutes){t[i].setAttribute("aria-selected","true"),this.selectedElement=t[i],this.activeIndex=i,this.setTimeActiveDescendant();break}}},t.prototype.setTimeActiveDescendant=function(){Object(h.h)(this.selectedElement)?Object(c.c)(this.inputElement,{"aria-activedescendant":"null"}):Object(c.c)(this.inputElement,{"aria-activedescendant":this.selectedElement.getAttribute("id")})},t.prototype.addTimeSelection=function(){this.selectedElement=null,this.removeTimeSelection(),this.setTimeActiveClass(),Object(h.h)(this.selectedElement)||(Object(c.a)([this.selectedElement],oe),this.selectedElement.setAttribute("aria-selected","true"))},t.prototype.removeTimeSelection=function(){if(this.removeTimeHover("e-hover"),!Object(h.h)(this.dateTimeWrapper)){var e=this.dateTimeWrapper.querySelectorAll("."+oe);e.length&&(Object(c.k)(e,oe),e[0].removeAttribute("aria-selected"))}},t.prototype.removeTimeHover=function(e){var t=this.getTimeHoverItem(e);t&&t.length&&Object(c.k)(t,e)},t.prototype.getTimeHoverItem=function(e){var t,i=Object(h.h)(this.dateTimeWrapper)?this.listWrapper:this.dateTimeWrapper;return Object(h.h)(i)||(t=i.querySelectorAll("."+e)),t},t.prototype.isValidLI=function(e){return e&&e.classList.contains(ae)&&!e.classList.contains("e-disabled")},t.prototype.calculateStartEnd=function(e,t,i){var r=e.getDate(),n=e.getMonth(),s=e.getFullYear(),o=e.getHours(),a=e.getMinutes(),u=e.getSeconds(),l=e.getMilliseconds();return t?"starttime"===i?new Date(s,n,r,0,0,0):new Date(s,n,r,23,59,59):new Date(s,n,r,o,a,u,l)},t.prototype.startTime=function(e){var t,i,r,n=this.min;return+(r=null===e?new Date:e).getDate()==+n.getDate()&&+r.getMonth()==+n.getMonth()&&+r.getFullYear()==+n.getFullYear()||+new Date(r.getFullYear(),r.getMonth(),r.getDate())<=+new Date(n.getFullYear(),n.getMonth(),n.getDate())?(i=!1,t=this.min):+r<+this.max&&+r>+this.min?(i=!0,t=r):+r>=+this.max&&(i=!0,t=this.max),this.calculateStartEnd(t,i,"starttime")},t.prototype.endTime=function(e){var t,i,r,n=this.max;return+(r=null===e?new Date:e).getDate()==+n.getDate()&&+r.getMonth()==+n.getMonth()&&+r.getFullYear()==+n.getFullYear()||+new Date(r.getUTCFullYear(),r.getMonth(),r.getDate())>=+new Date(n.getFullYear(),n.getMonth(),n.getDate())?(i=!1,t=this.max):+r<+this.max&&+r>+this.min?(i=!0,t=r):+r<=+this.min&&(i=!0,t=this.min),this.calculateStartEnd(t,i,"endtime")},t.prototype.hide=function(t){(this.popupObj||this.dateTimeWrapper)&&(this.preventArgs={cancel:!1,popup:this.popupObj||this.popupObject,event:t||null},Object(h.h)(this.popupObj)&&this.trigger("close",this.preventArgs),this.preventArgs.cancel||(this.isDatePopupOpen()?e.prototype.hide.call(this,t):this.isTimePopupOpen()&&(this.closePopup(t),Object(c.k)([document.body],"e-time-overflow"),a.a.isDevice&&this.timeModal&&(this.timeModal.style.display="none",this.timeModal.outerHTML="",this.timeModal=null),this.setTimeActiveDescendant()))),a.a.isDevice&&this.element.removeAttribute("readonly")},t.prototype.closePopup=function(e){this.isTimePopupOpen()&&this.popupObject&&(this.popupObject.hide(new l.a({name:"FadeOut",duration:100,delay:0})),this.inputWrapper.container.classList.remove("e-icon-anim"),Object(c.c)(this.inputElement,{"aria-expanded":"false"}),s.a.remove(document,"mousedown touchstart",this.documentClickHandler))},t.prototype.preRender=function(){e.prototype.preRender.call(this)},t.prototype.getProperty=function(e,t){this.setProperties("min"===t?{min:this.validateValue(e.min)}:{max:this.validateValue(e.max)},!0)},t.prototype.checkAttributes=function(){for(var e,t=0,i=["style","name","step","disabled","readonly","value","min","max","placeholder","type"];t<i.length;t++){var r=i[t];if(!Object(h.h)(this.inputElement.getAttribute(r)))switch(r){case"name":this.inputElement.setAttribute("name",this.inputElement.getAttribute(r));break;case"step":this.step=parseInt(this.inputElement.getAttribute(r),10);break;case"readonly":var n=!Object(h.h)(this.inputElement.getAttribute(r));this.setProperties({readonly:n},!0);break;case"placeholder":this.placeholder=this.inputElement.getAttribute(r);break;case"min":e=new Date(this.inputElement.getAttribute(r)),this.isNullOrEmpty(e)||isNaN(+e)||this.setProperties({min:e},!0);break;case"disabled":var s=Object(h.h)(this.inputElement.getAttribute(r));this.setProperties({enabled:s},!0);break;case"max":e=new Date(this.inputElement.getAttribute(r)),this.isNullOrEmpty(e)||isNaN(+e)||this.setProperties({max:e},!0)}}},t.prototype.getTimeActiveElement=function(){return Object(h.h)(this.dateTimeWrapper)?null:this.dateTimeWrapper.querySelectorAll("."+oe)},t.prototype.createDateObj=function(e){return e instanceof Date?e:null},t.prototype.getDateObject=function(e){if(!this.isNullOrEmpty(e)){var t=this.createDateObj(e),i=this.valueWithMinutes,r=!Object(h.h)(i);if(this.checkDateValue(t)){var n=r?i.getDate():X,s=r?i.getMonth():ee,o=r?i.getFullYear():te,a=r?i.getHours():ie,u=r?i.getMinutes():re,l=r?i.getSeconds():ne,c=r?i.getMilliseconds():se;return new Date(o,s,n,a,u,l,c)}}return null},t.prototype.findNextTimeElement=function(e){var t=this.inputElement.value,i=Object(h.h)(this.valueWithMinutes)?this.createDateObj(t):this.getDateObject(this.valueWithMinutes),r=null,n=this.liCollections.length;if(!Object(h.h)(this.checkDateValue(i))||!Object(h.h)(this.activeIndex)){if("home"===e.action)r=+this.createDateObj(new Date(this.timeCollections[0])),this.activeIndex=0;else if("end"===e.action)r=+this.createDateObj(new Date(this.timeCollections[this.timeCollections.length-1])),this.activeIndex=this.timeCollections.length-1;else if("down"===e.action){for(var s=0;s<n;s++)if(+i<this.timeCollections[s]){r=+this.createDateObj(new Date(this.timeCollections[s])),this.activeIndex=s;break}}else for(s=n-1;s>=0;s--)if(+i>this.timeCollections[s]){r=+this.createDateObj(new Date(this.timeCollections[s])),this.activeIndex=s;break}this.selectedElement=this.liCollections[this.activeIndex],this.timeElementValue(Object(h.h)(r)?null:new Date(r))}},t.prototype.setTimeValue=function(e,t){var i,r=this.validateMinMaxRange(t),n=this.createDateObj(r);this.getFormattedValue(n)!==(Object(h.h)(this.value)?null:this.getFormattedValue(this.value))?(this.valueWithMinutes=Object(h.h)(n)?null:n,i=new Date(+this.valueWithMinutes)):(this.strictMode&&(e=n),this.valueWithMinutes=this.checkDateValue(e),i=new Date(+this.valueWithMinutes));var s=this.globalize.formatDate(i,{format:Object(h.h)(this.format)?this.cldrDateTimeFormat():this.format,type:"dateTime",skeleton:"yMd"});return!this.strictMode&&Object(h.h)(i),g.a.setValue(s,this.inputElement,this.floatLabelType,this.showClearButton),i},t.prototype.timeElementValue=function(e){if(!Object(h.h)(this.checkDateValue(e))&&!this.isNullOrEmpty(e)){var t=e instanceof Date?e:this.getDateObject(e);return this.setTimeValue(t,e)}return null},t.prototype.timeKeyHandler=function(e){if(!(Object(h.h)(this.step)||this.step<=0)){var t=this.timeCollections.length;if(Object(h.h)(this.getTimeActiveElement())||0===this.getTimeActiveElement().length)this.liCollections.length>0&&(Object(h.h)(this.value)&&Object(h.h)(this.activeIndex)?(this.activeIndex=0,this.selectedElement=this.liCollections[0],this.timeElementValue(new Date(this.timeCollections[0]))):this.findNextTimeElement(e));else{var i=void 0;if(e.keyCode>=37&&e.keyCode<=40){var r=40===e.keyCode||39===e.keyCode?++this.activeIndex:--this.activeIndex;this.activeIndex=this.activeIndex===t?0:this.activeIndex,this.activeIndex=r=this.activeIndex<0?t-1:this.activeIndex,i=Object(h.h)(this.timeCollections[r])?this.timeCollections[0]:this.timeCollections[r]}else"home"===e.action?(this.activeIndex=0,i=this.timeCollections[0]):"end"===e.action&&(this.activeIndex=t-1,i=this.timeCollections[t-1]);this.selectedElement=this.liCollections[this.activeIndex],this.timeElementValue(new Date(i))}this.isNavigate=!0,this.setTimeHover(this.selectedElement,"e-navigation"),this.setTimeActiveDescendant(),!this.isTimePopupOpen()||null===this.selectedElement||e&&"click"===e.type||this.setTimeScrollPosition()}},t.prototype.TimeKeyActionHandle=function(e){if(this.enabled)switch("right"!==e.action&&"left"!==e.action&&"tab"!==e.action&&e.preventDefault(),e.action){case"up":case"down":case"home":case"end":this.timeKeyHandler(e);break;case"enter":this.isNavigate?(this.selectedElement=this.liCollections[this.activeIndex],this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),this.setInputValue("time"),+this.previousDateTime!=+this.value&&(this.changedArgs.value=this.value,this.addTimeSelection(),this.previousDateTime=this.value)):this.updateValue(e),this.hide(e),Object(c.a)([this.inputWrapper.container],"e-input-focus"),this.isNavigate=!1;break;case"escape":this.hide(e);break;default:this.isNavigate=!1}},t.prototype.inputKeyAction=function(e){switch(e.action){case"altDownArrow":this.strictModeUpdate(),this.updateInput(),this.toggle(e)}},t.prototype.onPropertyChanged=function(t,i){for(var r=0,n=Object.keys(t);r<n.length;r++){var s=n[r];switch(s){case"value":this.cldrDateTimeFormat(),"string"==typeof t.value&&(this.setProperties({value:this.checkDateValue(new Date(""+t.value))},!0),t.value=this.checkDateValue(new Date(""+t.value))),t.value=this.validateValue(t.value),g.a.setValue(this.getFormattedValue(t.value),this.inputElement,this.floatLabelType,this.showClearButton),this.valueWithMinutes=t.value,this.setProperties({value:t.value},!0),this.previousDateTime=new Date(this.inputElement.value),this.updateInput(),this.changeTrigger(null);break;case"min":case"max":this.getProperty(t,s),this.updateInput();break;case"enableRtl":g.a.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"cssClass":g.a.setCssClass(t.cssClass,[this.inputWrapper.container]),this.dateTimeWrapper&&Object(c.a)([this.dateTimeWrapper],[t.cssClass]);break;case"locale":this.globalize=new o.a(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),g.a.setPlaceholder(this.l10n.getConstant("placeholder"),this.inputElement),this.dateTimeFormat=this.cldrDateTimeFormat(),e.prototype.updateInput.call(this);break;case"format":this.setProperties({format:t.format},!0),this.setValue();break;case"placeholder":g.a.setPlaceholder(t.placeholder,this.inputElement),this.inputElement.setAttribute("aria-placeholder",t.placeholder);break;case"enabled":g.a.setEnabled(this.enabled,this.inputElement),this.bindEvents();break;case"strictMode":this.updateInput();break;case"width":this.setWidth(t.width);break;case"readonly":g.a.setReadonly(this.readonly,this.inputElement);break;case"floatLabelType":this.floatLabelType=t.floatLabelType,g.a.removeFloating(this.inputWrapper),g.a.addFloating(this.inputElement,this.floatLabelType,this.placeholder);break;default:e.prototype.onPropertyChanged.call(this,t,i)}this.hide(null)}},t.prototype.getModuleName=function(){return"datetimepicker"},Object(n.b)([Object(u.d)(null)],t.prototype,"timeFormat",void 0),Object(n.b)([Object(u.d)(30)],t.prototype,"step",void 0),Object(n.b)([Object(u.d)(1e3)],t.prototype,"zIndex",void 0),Object(n.b)([Object(u.d)(!1)],t.prototype,"enableRtl",void 0),Object(n.b)([Object(u.d)(!1)],t.prototype,"enablePersistence",void 0),Object(n.b)([Object(u.d)(!0)],t.prototype,"showClearButton",void 0),Object(n.b)([Object(u.d)(null)],t.prototype,"placeholder",void 0),Object(n.b)([Object(u.d)(!1)],t.prototype,"strictMode",void 0),Object(n.b)([Object(u.b)()],t.prototype,"open",void 0),Object(n.b)([Object(u.b)()],t.prototype,"close",void 0),Object(n.b)([Object(u.b)()],t.prototype,"blur",void 0),Object(n.b)([Object(u.b)()],t.prototype,"focus",void 0),Object(n.b)([Object(u.b)()],t.prototype,"created",void 0),Object(n.b)([Object(u.b)()],t.prototype,"destroyed",void 0),Object(n.b)([u.c],t)}(m.a);i.d(t,"a",function(){return he});var le=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),ce=["blur","change","close","created","destroyed","focus","navigated","open","renderDayCell","valueChange"],pe=["value"],he=function(e){function t(t,i,n,s){var o=e.call(this)||this;return o.ngEle=t,o.srenderer=i,o.viewContainerRef=n,o.injector=s,o.skipFromEvent=!0,o.element=o.ngEle.nativeElement,o.injectedModules=o.injectedModules||[],o.registerEvents(ce),o.addTwoWay.call(o,pe),Object(r.d)("currentInstance",o,o.viewContainerRef),o}return le(t,e),t.prototype.registerOnChange=function(e){},t.prototype.registerOnTouched=function(e){},t.prototype.writeValue=function(e){},t.prototype.setDisabledState=function(e){},t.prototype.ngOnInit=function(){},t.prototype.ngAfterViewInit=function(){},t.prototype.ngOnDestroy=function(){},t.prototype.ngAfterContentChecked=function(){},t}(ue)}}]);